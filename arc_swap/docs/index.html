<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Additional documentation."><title>arc_swap::docs - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="arc_swap" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../arc_swap/index.html">arc_<wbr>swap</a><span class="version">1.7.1</span></h2></div><h2 class="location"><a href="#">Module docs</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#modules">Modules</a></li></ul></section><h2><a href="../index.html">In crate arc_<wbr>swap</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">arc_swap</a>::<wbr><a class="mod" href="#">docs</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/arc_swap/docs/mod.rs.html#1-54">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Additional documentation.</p>
<p>Here we have some more general topics that might be good to know that just don’t fit to the
crate level intro.</p>
<p>Also, there were some previous blog posts about the crate which you might find interesting.</p>
<h2 id="atomic-orderings"><a class="doc-anchor" href="#atomic-orderings">§</a>Atomic orderings</h2>
<p>Each operation on the <a href="../struct.ArcSwapAny.html" title="struct arc_swap::ArcSwapAny"><code>ArcSwapAny</code></a> with <a href="../strategy/type.DefaultStrategy.html" title="type arc_swap::strategy::DefaultStrategy"><code>DefaultStrategy</code></a> type callable concurrently (eg.
<a href="../struct.ArcSwapAny.html#method.load" title="method arc_swap::ArcSwapAny::load"><code>load</code></a>, but not <a href="../struct.ArcSwapAny.html#method.into_inner" title="method arc_swap::ArcSwapAny::into_inner"><code>into_inner</code></a>) contains at least one <a href="https://doc.rust-lang.org/1.82.0/core/sync/atomic/enum.Ordering.html#variant.SeqCst" title="variant core::sync::atomic::Ordering::SeqCst"><code>SeqCst</code></a> atomic read-write operation,
therefore even operations on different instances have a defined global order of operations.</p>
<h2 id="features"><a class="doc-anchor" href="#features">§</a>Features</h2>
<p>The <code>weak</code> feature adds the ability to use arc-swap with the <a href="https://doc.rust-lang.org/1.82.0/alloc/sync/struct.Weak.html" title="struct alloc::sync::Weak"><code>Weak</code></a> pointer too,
through the <a href="crate::ArcSwapWeak"><code>ArcSwapWeak</code></a> type. The needed std support is stabilized in rust version 1.45 (as
of now in beta).</p>
<p>The <code>experimental-strategies</code> enables few more strategies that can be used. Note that these
<strong>are not</strong> part of the API stability guarantees and they may be changed, renamed or removed at
any time.</p>
<p>The <code>experimental-thread-local</code> feature can be used to build arc-swap for <code>no_std</code> targets, by
replacing occurences of <a href="https://doc.rust-lang.org/1.82.0/std/macro.thread_local.html" title="macro std::thread_local"><code>std::thread_local!</code></a> with the <code>#[thread_local]</code> directive. This
requires a nightly Rust compiler as it makes use of the experimental
<a href="https://doc.rust-lang.org/unstable-book/language-features/thread-local.html"><code>thread_local</code></a>
feature. Using this features, thread-local variables are compiled using LLVM built-ins, which
have <a href="https://doc.rust-lang.org/beta/unstable-book/compiler-flags/tls-model.html">several underlying modes of
operation</a>.  To add
support for thread-local variables on a platform that does not have OS or linker support, the
easiest way is to use <code>-Ztls-model=emulated</code> and to implement <code>__emutls_get_address</code> by hand,
as in <a href="https://opensource.apple.com/source/clang/clang-800.0.38/src/projects/compiler-rt/lib/builtins/emutls.c.auto.html">this
example</a>
from Clang.</p>
<h2 id="minimal-compiler-version"><a class="doc-anchor" href="#minimal-compiler-version">§</a>Minimal compiler version</h2>
<p>The <code>1</code> versions will compile on all compilers supporting the 2018 edition. Note that this
applies only if no additional feature flags are enabled and does not apply to compiling or
running tests.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="internal/index.html" title="mod arc_swap::docs::internal">internal</a></div><div class="desc docblock-short">Internal details.</div></li><li><div class="item-name"><a class="mod" href="limitations/index.html" title="mod arc_swap::docs::limitations">limitations</a></div><div class="desc docblock-short">Limitations and common pitfalls.</div></li><li><div class="item-name"><a class="mod" href="patterns/index.html" title="mod arc_swap::docs::patterns">patterns</a></div><div class="desc docblock-short">Common use patterns</div></li><li><div class="item-name"><a class="mod" href="performance/index.html" title="mod arc_swap::docs::performance">performance</a></div><div class="desc docblock-short">Performance characteristics.</div></li></ul></section></div></main></body></html>