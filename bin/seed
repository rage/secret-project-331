#!/bin/bash
set -euo pipefail

POD_NAME=$(kubectl get pods -l app=headless-lms -o name | head -n 1)

COMMAND="kubectl"
ARGUMENTS=(exec -it "$POD_NAME" "$@" -- cargo run --bin seed "$@")

echo "> $COMMAND" "$(printf "%q " "${ARGUMENTS[@]}")"
exec "$COMMAND" "${ARGUMENTS[@]}"
