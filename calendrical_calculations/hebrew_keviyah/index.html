<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Alternate, more efficient structures for working with the Hebrew Calendar using the keviyah and Four Gates system"><title>calendrical_calculations::hebrew_keviyah - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-492a78a4a87dcc01.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="calendrical_calculations" data-themes="" data-resource-suffix="" data-rustdoc-version="1.82.0 (f6e511eec 2024-10-15)" data-channel="1.82.0" data-search-js="search-a99f1315e7cc5121.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-921df33f47b8780c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-3b12f09e550e0385.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../calendrical_calculations/index.html">calendrical_<wbr>calculations</a><span class="version">0.1.1</span></h2></div><h2 class="location"><a href="#">Module hebrew_<wbr>keviyah</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li></ul></section><h2><a href="../index.html">In crate calendrical_<wbr>calculations</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">calendrical_calculations</a>::<wbr><a class="mod" href="#">hebrew_keviyah</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/calendrical_calculations/hebrew_keviyah.rs.html#18-1042">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Alternate, more efficient structures for working with the Hebrew Calendar
using the keviyah and Four Gates system</p>
<p>The main entry point for this code is <a href="struct.YearInfo.html#method.compute_for" title="associated function calendrical_calculations::hebrew_keviyah::YearInfo::compute_for"><code>YearInfo::compute_for()</code></a> and <a href="struct.YearInfo.html#method.year_containing_rd" title="associated function calendrical_calculations::hebrew_keviyah::YearInfo::year_containing_rd"><code>YearInfo::year_containing_rd()</code></a>,
which will efficiently calculate certain information about a Hebrew year, given the Hebrew year
or a date that falls within it, and produce it as a <a href="struct.YearInfo.html" title="struct calendrical_calculations::hebrew_keviyah::YearInfo"><code>YearInfo</code></a>.</p>
<p>From there, you can compute additional information via <a href="struct.YearInfo.html#method.new_year" title="method calendrical_calculations::hebrew_keviyah::YearInfo::new_year"><code>YearInfo::new_year()</code></a> and by accessing
the methods on <a href="struct.YearInfo.html#structfield.keviyah" title="field calendrical_calculations::hebrew_keviyah::YearInfo::keviyah"><code>YearInfo::keviyah</code></a>.</p>
<h2 id="how-this-code-works"><a class="doc-anchor" href="#how-this-code-works">§</a>How this code works:</h2><h3 id="how-the-hebrew-calendar-works"><a class="doc-anchor" href="#how-the-hebrew-calendar-works">§</a>How the Hebrew Calendar works</h3>
<p>The Hebrew calendar is a lunisolar calendar following a Metonic cycle: every 19 years, the pattern of
leap years repeats. However, the precise month lengths vary from cycle to cycle: There are a handful of
corrections performed to ensure that:</p>
<ul>
<li>The lunar conjunction happens on or before the first day of the month</li>
<li>Yom Kippur is not before or after the Sabbath</li>
<li>Hoshana Rabbah is not on the Sabbath</li>
</ul>
<p>These corrections can be done using systematic calculations, which this code attempts to efficiently perform.</p>
<h3 id="molad"><a class="doc-anchor" href="#molad">§</a>Molad</h3>
<p>A molad is the time of a conjunction, the moment when the new moon occurs. The “Molad Tishrei” is
the conjunction corresponding to the month Tishrei, the first month, so it is the molad that starts the new year.
In this file we’ll typically use “molad” to refer to the molad Tishrei of a year.</p>
<p>The Hebrew calendar does not always start on the day of the molad Tishrei: it may be postponed one or two days.
However, the time in the week that the molad occurs is sufficient to know when it gets postponed to.</p>
<h3 id="keviyah"><a class="doc-anchor" href="#keviyah">§</a>Keviyah</h3>
<p>See also: the <a href="enum.Keviyah.html" title="enum calendrical_calculations::hebrew_keviyah::Keviyah"><code>Keviyah</code></a> type.</p>
<p>This is the core concept being used here. Everything you need to know about the characteristics
of a hebrew year can be boiled down to a notion called the “keviyah” of a year. This
encapsulates three bits of information:</p>
<ul>
<li>What day of the week the year starts on</li>
<li>What the month lengths are</li>
<li>What day of the week Passover starts on.</li>
</ul>
<p>While this seems like many possible combinations, only fourteen of them are possible.</p>
<p>Knowing the Keviyah of the year you can understand exactly what the lengths of each month are.
Furthermore, if you know the week the year falls in, you can additionally understand what
the precise day of the new year is.</p>
<p><a href="struct.YearInfo.html" title="struct calendrical_calculations::hebrew_keviyah::YearInfo"><code>YearInfo</code></a> encapsulates these two pieces of information: the <a href="enum.Keviyah.html" title="enum calendrical_calculations::hebrew_keviyah::Keviyah"><code>Keviyah</code></a> and the number of weeks
since the epoch of the Hebrew calendar.</p>
<h3 id="the-four-gates-table"><a class="doc-anchor" href="#the-four-gates-table">§</a>The Four Gates table</h3>
<p>This is an efficient lookup based way of calculating the <a href="enum.Keviyah.html" title="enum calendrical_calculations::hebrew_keviyah::Keviyah"><code>Keviyah</code></a> for a year. In the Metonic cycle,
there are four broad types of year: leap years, years preceding leap years, years succeeding leap years,
and years sandwiched between leap years. For each of these year types, there is a partitioning
of the week into seven segments, and the <a href="enum.Keviyah.html" title="enum calendrical_calculations::hebrew_keviyah::Keviyah"><code>Keviyah</code></a> of that year depends on which segment the molad falls
in.</p>
<p>So to calculate the <a href="enum.Keviyah.html" title="enum calendrical_calculations::hebrew_keviyah::Keviyah"><code>Keviyah</code></a> of a year, we can calculate its molad, pick the right partitioning based on the
year type, and see where the molad falls in that table.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.YearInfo.html" title="struct calendrical_calculations::hebrew_keviyah::YearInfo">Year<wbr>Info</a></div><div class="desc docblock-short">Everything about a given year. Can be conveniently packed down into an i64 if needed.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.Keviyah.html" title="enum calendrical_calculations::hebrew_keviyah::Keviyah">Keviyah</a></div><div class="desc docblock-short">The Keviyah (קביעה) of a year. A year may be one of fourteen types, categorized by the day of
week of the new year (the first number, 1 = Sunday), the type of year (Deficient, Regular,
Complete), and the day of week of the first day of Passover. The last segment disambiguates
between cases that have the same first two but differ on whether they are leap years (since
Passover happens in Nisan, after the leap month Adar).</div></li><li><div class="item-name"><a class="enum" href="enum.StartOfYear.html" title="enum calendrical_calculations::hebrew_keviyah::StartOfYear">Start<wbr>OfYear</a></div><div class="desc docblock-short">The day of the new year. Only these four days are permitted.</div></li><li><div class="item-name"><a class="enum" href="enum.YearType.html" title="enum calendrical_calculations::hebrew_keviyah::YearType">Year<wbr>Type</a></div><div class="desc docblock-short">The type of year it is</div></li></ul><h2 id="constants" class="section-header">Constants<a href="#constants" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.ADAR.html" title="constant calendrical_calculations::hebrew_keviyah::ADAR">ADAR</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.AV.html" title="constant calendrical_calculations::hebrew_keviyah::AV">AV</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.ELUL.html" title="constant calendrical_calculations::hebrew_keviyah::ELUL">ELUL</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.HEBREW_MAX_RD.html" title="constant calendrical_calculations::hebrew_keviyah::HEBREW_MAX_RD">HEBRE<wbr>W_<wbr>MAX_<wbr>RD</a></div><div class="desc docblock-short">The maximum R.D. supported by this code (this is the last day in <a href="constant.HEBREW_MAX_YEAR.html" title="constant calendrical_calculations::hebrew_keviyah::HEBREW_MAX_YEAR"><code>HEBREW_MAX_YEAR</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.HEBREW_MAX_YEAR.html" title="constant calendrical_calculations::hebrew_keviyah::HEBREW_MAX_YEAR">HEBRE<wbr>W_<wbr>MAX_<wbr>YEAR</a></div><div class="desc docblock-short">The maximum hebrew year supported by this code (this is the maximum alue for i32)</div></li><li><div class="item-name"><a class="constant" href="constant.HEBREW_MIN_RD.html" title="constant calendrical_calculations::hebrew_keviyah::HEBREW_MIN_RD">HEBRE<wbr>W_<wbr>MIN_<wbr>RD</a></div><div class="desc docblock-short">The minumum R.D. supported by this code (this code will clamp outside of it)</div></li><li><div class="item-name"><a class="constant" href="constant.HEBREW_MIN_YEAR.html" title="constant calendrical_calculations::hebrew_keviyah::HEBREW_MIN_YEAR">HEBRE<wbr>W_<wbr>MIN_<wbr>YEAR</a></div><div class="desc docblock-short">The minumum hebrew year supported by this code (this is the minimum value for i32)</div></li><li><div class="item-name"><a class="constant" href="constant.IYYAR.html" title="constant calendrical_calculations::hebrew_keviyah::IYYAR">IYYAR</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.KISLEV.html" title="constant calendrical_calculations::hebrew_keviyah::KISLEV">KISLEV</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.NISAN.html" title="constant calendrical_calculations::hebrew_keviyah::NISAN">NISAN</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.SHEVAT.html" title="constant calendrical_calculations::hebrew_keviyah::SHEVAT">SHEVAT</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.SIVAN.html" title="constant calendrical_calculations::hebrew_keviyah::SIVAN">SIVAN</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.TAMMUZ.html" title="constant calendrical_calculations::hebrew_keviyah::TAMMUZ">TAMMUZ</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.TEVET.html" title="constant calendrical_calculations::hebrew_keviyah::TEVET">TEVET</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li><li><div class="item-name"><a class="constant" href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI">TISHREI</a></div><div class="desc docblock-short">Normalized month constant for Tishrei</div></li><li><div class="item-name"><a class="constant" href="constant.ḤESHVAN.html" title="constant calendrical_calculations::hebrew_keviyah::ḤESHVAN">ḤESHVAN</a></div><div class="desc docblock-short">Normalized month constant (see <a href="constant.TISHREI.html" title="constant calendrical_calculations::hebrew_keviyah::TISHREI"><code>TISHREI</code></a>)</div></li></ul></section></div></main></body></html>