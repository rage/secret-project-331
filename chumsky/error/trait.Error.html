<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A trait that describes parser error types."><title>Error in chumsky::error - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ac92e1bbe349e143.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="chumsky" data-themes="" data-resource-suffix="" data-rustdoc-version="1.76.0 (07dca489a 2024-02-04)" data-channel="1.76.0" data-search-js="search-2b6ce74ff89ae146.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-f2adc0d6ca4d09fb.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-305769736d49e732.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-feafe1bb7466e4bd.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../chumsky/index.html">chumsky</a><span class="version">0.9.3</span></h2></div><h2 class="location"><a href="#">Error</a></h2><div class="sidebar-elems"><section><h3><a href="#required-associated-types">Required Associated Types</a></h3><ul class="block"><li><a href="#associatedtype.Label">Label</a></li><li><a href="#associatedtype.Span">Span</a></li></ul><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.expected_input_found">expected_input_found</a></li><li><a href="#tymethod.merge">merge</a></li><li><a href="#tymethod.with_label">with_label</a></li></ul><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.unclosed_delimiter">unclosed_delimiter</a></li></ul><h3><a href="#object-safety">Object Safety</a></h3><h3><a href="#implementors">Implementors</a></h3></section><h2><a href="index.html">In chumsky::error</a></h2></div></nav><div class="sidebar-resizer"></div>
    <main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><div id="sidebar-button" tabindex="-1"><a href="../../chumsky/all.html" title="show sidebar"></a></div><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" tabindex="-1"><a href="../../help.html" title="help">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Trait <a href="../index.html">chumsky</a>::<wbr><a href="index.html">error</a>::<wbr><a class="trait" href="#">Error</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/chumsky/error.rs.html#80-129">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub trait Error&lt;I&gt;: <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a> {
    type <a href="#associatedtype.Span" class="associatedtype">Span</a>: <a class="trait" href="../span/trait.Span.html" title="trait chumsky::span::Span">Span</a>;
    type <a href="#associatedtype.Label" class="associatedtype">Label</a>;

    // Required methods
    fn <a href="#tymethod.expected_input_found" class="fn">expected_input_found</a>&lt;Iter: <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="enum" href="https://doc.rust-lang.org/1.76.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;I&gt;&gt;&gt;(
        span: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Span" title="type chumsky::error::Error::Span">Span</a>,
        expected: Iter,
        found: <a class="enum" href="https://doc.rust-lang.org/1.76.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;I&gt;
    ) -&gt; Self;
<span class="item-spacer"></span>    fn <a href="#tymethod.with_label" class="fn">with_label</a>(self, label: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Label" title="type chumsky::error::Error::Label">Label</a>) -&gt; Self;
<span class="item-spacer"></span>    fn <a href="#tymethod.merge" class="fn">merge</a>(self, other: Self) -&gt; Self;

    // Provided method
    fn <a href="#method.unclosed_delimiter" class="fn">unclosed_delimiter</a>(
        unclosed_span: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Span" title="type chumsky::error::Error::Span">Span</a>,
        unclosed: I,
        span: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Span" title="type chumsky::error::Error::Span">Span</a>,
        expected: I,
        found: <a class="enum" href="https://doc.rust-lang.org/1.76.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;I&gt;
    ) -&gt; Self { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A trait that describes parser error types.</p>
<p>If you have a custom error type in your compiler, or your needs are not sufficiently met by <a href="struct.Simple.html" title="struct chumsky::error::Simple"><code>Simple</code></a>, you should
implement this trait. If your error type has ‘extra’ features that allow for more specific error messages, you can
use the <a href="../trait.Parser.html#method.map_err" title="method chumsky::Parser::map_err"><code>Parser::map_err</code></a> or <a href="../trait.Parser.html#method.try_map" title="method chumsky::Parser::try_map"><code>Parser::try_map</code></a> functions to take advantage of these inline within your parser.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">type </span>Span = std::ops::Range&lt;usize&gt;;

<span class="comment">// A custom error type
</span><span class="attr">#[derive(Debug, PartialEq)]
</span><span class="kw">enum </span>MyError {
    ExpectedFound(Span, Vec&lt;<span class="prelude-ty">Option</span>&lt;char&gt;&gt;, <span class="prelude-ty">Option</span>&lt;char&gt;),
    NotADigit(Span, char),
}

<span class="kw">impl </span>chumsky::Error&lt;char&gt; <span class="kw">for </span>MyError {
    <span class="kw">type </span>Span = Span;
    <span class="kw">type </span>Label = ();

    <span class="kw">fn </span>expected_input_found&lt;Iter: IntoIterator&lt;Item = <span class="prelude-ty">Option</span>&lt;char&gt;&gt;&gt;(
        span: Span,
        expected: Iter,
        found: <span class="prelude-ty">Option</span>&lt;char&gt;,
    ) -&gt; <span class="self">Self </span>{
        <span class="self">Self</span>::ExpectedFound(span, expected.into_iter().collect(), found)
    }

    <span class="kw">fn </span>with_label(<span class="kw-2">mut </span><span class="self">self</span>, label: <span class="self">Self</span>::Label) -&gt; <span class="self">Self </span>{ <span class="self">self </span>}

    <span class="kw">fn </span>merge(<span class="kw-2">mut </span><span class="self">self</span>, <span class="kw-2">mut </span>other: <span class="self">Self</span>) -&gt; <span class="self">Self </span>{
        <span class="kw">if let </span>(<span class="self">Self</span>::ExpectedFound(<span class="kw">_</span>, expected, <span class="kw">_</span>), <span class="self">Self</span>::ExpectedFound(<span class="kw">_</span>, expected_other, <span class="kw">_</span>)) = (
            <span class="kw-2">&amp;mut </span><span class="self">self</span>,
            <span class="kw-2">&amp;mut </span>other,
        ) {
            expected.append(expected_other);
        }
        <span class="self">self
    </span>}
}

<span class="kw">let </span>numeral = filter_map(|span, c: char| <span class="kw">match </span>c.to_digit(<span class="number">10</span>) {
    <span class="prelude-val">Some</span>(x) =&gt; <span class="prelude-val">Ok</span>(x),
    <span class="prelude-val">None </span>=&gt; <span class="prelude-val">Err</span>(MyError::NotADigit(span, c)),
});

<span class="macro">assert_eq!</span>(numeral.parse(<span class="string">"3"</span>), <span class="prelude-val">Ok</span>(<span class="number">3</span>));
<span class="macro">assert_eq!</span>(numeral.parse(<span class="string">"7"</span>), <span class="prelude-val">Ok</span>(<span class="number">7</span>));
<span class="macro">assert_eq!</span>(numeral.parse(<span class="string">"f"</span>), <span class="prelude-val">Err</span>(<span class="macro">vec!</span>[MyError::NotADigit(<span class="number">0</span>..<span class="number">1</span>, <span class="string">'f'</span>)]));</code></pre></div>
</div></details><h2 id="required-associated-types" class="section-header">Required Associated Types<a href="#required-associated-types" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedtype.Span" class="method"><a class="src rightside" href="../../src/chumsky/error.rs.html#82">source</a><h4 class="code-header">type <a href="#associatedtype.Span" class="associatedtype">Span</a>: <a class="trait" href="../span/trait.Span.html" title="trait chumsky::span::Span">Span</a></h4></section></summary><div class="docblock"><p>The type of spans to be used in the error.</p>
</div></details><details class="toggle" open><summary><section id="associatedtype.Label" class="method"><a class="src rightside" href="../../src/chumsky/error.rs.html#88">source</a><h4 class="code-header">type <a href="#associatedtype.Label" class="associatedtype">Label</a></h4></section></summary><div class="docblock"><p>The label used to describe a syntactic structure currently being parsed.</p>
<p>This can be used to generate errors that tell the user what syntactic structure was currently being parsed when
the error occurred.</p>
</div></details></div><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.expected_input_found" class="method"><a class="src rightside" href="../../src/chumsky/error.rs.html#95-99">source</a><h4 class="code-header">fn <a href="#tymethod.expected_input_found" class="fn">expected_input_found</a>&lt;Iter: <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/iter/traits/collect/trait.IntoIterator.html" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>&lt;Item = <a class="enum" href="https://doc.rust-lang.org/1.76.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;I&gt;&gt;&gt;(
    span: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Span" title="type chumsky::error::Error::Span">Span</a>,
    expected: Iter,
    found: <a class="enum" href="https://doc.rust-lang.org/1.76.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;I&gt;
) -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new error describing a conflict between expected inputs and that which was actually found.</p>
<p><code>found</code> having the value <code>None</code> indicates that the end of input was reached, but was not expected.</p>
<p>An expected input having the value <code>None</code> indicates that the end of input was expected.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.with_label" class="method"><a class="src rightside" href="../../src/chumsky/error.rs.html#125">source</a><h4 class="code-header">fn <a href="#tymethod.with_label" class="fn">with_label</a>(self, label: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Label" title="type chumsky::error::Error::Label">Label</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Indicate that the error occurred while parsing a particular syntactic structure.</p>
<p>How the error handles this information is up to it. It can append it to a list of structures to get a sort of
‘parse backtrace’, or it can just keep only the most recent label. If the latter, this method should have no
effect when the error already has a label.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="tymethod.merge" class="method"><a class="src rightside" href="../../src/chumsky/error.rs.html#128">source</a><h4 class="code-header">fn <a href="#tymethod.merge" class="fn">merge</a>(self, other: Self) -&gt; Self</h4></section></summary><div class="docblock"><p>Merge two errors that point to the same input together, combining their information.</p>
</div></details></div><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.unclosed_delimiter" class="method"><a class="src rightside" href="../../src/chumsky/error.rs.html#109-118">source</a><h4 class="code-header">fn <a href="#method.unclosed_delimiter" class="fn">unclosed_delimiter</a>(
    unclosed_span: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Span" title="type chumsky::error::Error::Span">Span</a>,
    unclosed: I,
    span: Self::<a class="associatedtype" href="trait.Error.html#associatedtype.Span" title="type chumsky::error::Error::Span">Span</a>,
    expected: I,
    found: <a class="enum" href="https://doc.rust-lang.org/1.76.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;I&gt;
) -&gt; Self</h4></section></summary><div class="docblock"><p>Create a new error describing a delimiter that was not correctly closed.</p>
<p>Provided to this function is the span of the unclosed delimiter, the delimiter itself, the span of the input
that was found in its place, the closing delimiter that was expected but not found, and the input that was
found in its place.</p>
<p>The default implementation of this function uses <a href="trait.Error.html#tymethod.expected_input_found" title="associated function chumsky::error::Error::expected_input_found"><code>Error::expected_input_found</code></a>, but you’ll probably want to
implement it yourself to take full advantage of the extra diagnostic information.</p>
</div></details></div><h2 id="object-safety" class="section-header">Object Safety<a href="#object-safety" class="anchor">§</a></h2><div class="object-safety-info">This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.76.0/reference/items/traits.html#object-safety">object safe</a>.</div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-Error%3CI%3E-for-Cheap%3CI,+S%3E" class="impl"><a class="src rightside" href="../../src/chumsky/error.rs.html#425-449">source</a><a href="#impl-Error%3CI%3E-for-Cheap%3CI,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;I, S: <a class="trait" href="../span/trait.Span.html" title="trait chumsky::span::Span">Span</a> + <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>&gt; <a class="trait" href="trait.Error.html" title="trait chumsky::error::Error">Error</a>&lt;I&gt; for <a class="struct" href="struct.Cheap.html" title="struct chumsky::error::Cheap">Cheap</a>&lt;I, S&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.Span-1" class="associatedtype trait-impl"><a href="#associatedtype.Span-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Span" class="associatedtype">Span</a> = S</h4></section><section id="associatedtype.Label-1" class="associatedtype trait-impl"><a href="#associatedtype.Label-1" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Label" class="associatedtype">Label</a> = &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.76.0/std/primitive.str.html">str</a></h4></section></div></details><details class="toggle implementors-toggle"><summary><section id="impl-Error%3CI%3E-for-Simple%3CI,+S%3E" class="impl"><a class="src rightside" href="../../src/chumsky/error.rs.html#285-345">source</a><a href="#impl-Error%3CI%3E-for-Simple%3CI,+S%3E" class="anchor">§</a><h3 class="code-header">impl&lt;I: <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a>, S: <a class="trait" href="../span/trait.Span.html" title="trait chumsky::span::Span">Span</a> + <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.76.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>&gt; <a class="trait" href="trait.Error.html" title="trait chumsky::error::Error">Error</a>&lt;I&gt; for <a class="struct" href="struct.Simple.html" title="struct chumsky::error::Simple">Simple</a>&lt;I, S&gt;</h3></section></summary><div class="impl-items"><section id="associatedtype.Span-2" class="associatedtype trait-impl"><a href="#associatedtype.Span-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Span" class="associatedtype">Span</a> = S</h4></section><section id="associatedtype.Label-2" class="associatedtype trait-impl"><a href="#associatedtype.Label-2" class="anchor">§</a><h4 class="code-header">type <a href="#associatedtype.Label" class="associatedtype">Label</a> = &amp;'static <a class="primitive" href="https://doc.rust-lang.org/1.76.0/std/primitive.str.html">str</a></h4></section></div></details></div><script src="../../trait.impl/chumsky/error/trait.Error.js" async></script></section></div></main></body></html>