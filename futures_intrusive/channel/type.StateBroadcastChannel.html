<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A `GenericStateBroadcastChannel` implementation backed by `parking_lot`."><title>StateBroadcastChannel in futures_intrusive::channel - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-fa3bb1812debf86c.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="futures_intrusive" data-themes="" data-resource-suffix="" data-rustdoc-version="1.74.1 (a28077b28 2023-12-04)" data-channel="1.74.1" data-search-js="search-8be46b629f5f14a8.js" data-settings-js="settings-74424d7eec62a23e.js" ><script src="../../static.files/storage-fec3eaa3851e447d.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-c5bd66d33317d69f.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-5d8b3c7633ad77ba.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc type"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../futures_intrusive/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a></nav><nav class="sidebar"><a class="logo-container" href="../../futures_intrusive/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">StateBroadcastChannel</a></h2><div class="sidebar-elems"><section><h3><a href="#aliased-type">Aliased type</a></h3><h3><a href="#implementations">Methods</a></h3><ul class="block"><li><a href="#method.close">close</a></li><li><a href="#method.new">new</a></li><li><a href="#method.receive">receive</a></li><li><a href="#method.send">send</a></li><li><a href="#method.try_receive">try_receive</a></li></ul><h3><a href="#trait-implementations">Trait Implementations</a></h3><ul class="block"><li><a href="#impl-Debug-for-GenericStateBroadcastChannel%3CMutexType,+T%3E">Debug</a></li><li><a href="#impl-Send-for-GenericStateBroadcastChannel%3CMutexType,+T%3E">Send</a></li><li><a href="#impl-Sync-for-GenericStateBroadcastChannel%3CMutexType,+T%3E">Sync</a></li></ul></section><h2><a href="index.html">In futures_intrusive::channel</a></h2></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Type Alias <a href="../index.html">futures_intrusive</a>::<wbr><a href="index.html">channel</a>::<wbr><a class="type" href="#">StateBroadcastChannel</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="src" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#438-439">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><pre class="rust item-decl"><code>pub type StateBroadcastChannel&lt;T&gt; = <a class="struct" href="struct.GenericStateBroadcastChannel.html" title="struct futures_intrusive::channel::GenericStateBroadcastChannel">GenericStateBroadcastChannel</a>&lt;<a class="struct" href="../../parking_lot/raw_mutex/struct.RawMutex.html" title="struct parking_lot::raw_mutex::RawMutex">RawMutex</a>, T&gt;;</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A <a href="struct.GenericStateBroadcastChannel.html" title="struct futures_intrusive::channel::GenericStateBroadcastChannel"><code>GenericStateBroadcastChannel</code></a> implementation backed by <a href="../../parking_lot/index.html" title="mod parking_lot"><code>parking_lot</code></a>.</p>
</div></details><h2 id="aliased-type" class="small-section-header">Aliased Type<a href="#aliased-type" class="anchor">§</a></h2><pre class="rust item-decl"><code>struct StateBroadcastChannel&lt;T&gt; { /* private fields */ }</code></pre><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor">§</a></h2><div id="implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="impl"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#344-404">source</a><a href="#impl-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;MutexType: <a class="trait" href="../../lock_api/mutex/trait.RawMutex.html" title="trait lock_api::mutex::RawMutex">RawMutex</a>, T&gt; <a class="struct" href="struct.GenericStateBroadcastChannel.html" title="struct futures_intrusive::channel::GenericStateBroadcastChannel">GenericStateBroadcastChannel</a>&lt;MutexType, T&gt;<span class="where fmt-newline">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</span></h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.new" class="method"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#349-356">source</a><h4 class="code-header">pub fn <a href="#method.new" class="fn">new</a>() -&gt; <a class="struct" href="struct.GenericStateBroadcastChannel.html" title="struct futures_intrusive::channel::GenericStateBroadcastChannel">GenericStateBroadcastChannel</a>&lt;MutexType, T&gt;<span class="where fmt-newline">where
    T: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,</span></h4></section></summary><div class="docblock"><p>Creates a new State Broadcast Channel in the given state</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.send" class="method"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#364-366">source</a><h4 class="code-header">pub fn <a href="#method.send" class="fn">send</a>(&amp;self, value: T) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.74.1/std/primitive.unit.html">()</a>, <a class="struct" href="struct.ChannelSendError.html" title="struct futures_intrusive::channel::ChannelSendError">ChannelSendError</a>&lt;T&gt;&gt;</h4></section></summary><div class="docblock"><p>Writes a single value to the channel.</p>
<p>This will notify waiters about the availability of the value.
If the maximum amount of values had been written to the channel,
or if the channel is closed, the new value will be rejected and
returned inside the error variant.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.close" class="method"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#374-376">source</a><h4 class="code-header">pub fn <a href="#method.close" class="fn">close</a>(&amp;self) -&gt; <a class="enum" href="enum.CloseStatus.html" title="enum futures_intrusive::channel::CloseStatus">CloseStatus</a></h4></section></summary><div class="docblock"><p>Closes the channel.</p>
<p>This will notify waiters about closure, by fulfilling pending <code>Future</code>s
with <code>None</code>.
<code>send(value)</code> attempts which follow this call will fail with a
<a href="struct.ChannelSendError.html" title="struct futures_intrusive::channel::ChannelSendError"><code>ChannelSendError</code></a>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.receive" class="method"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#386-395">source</a><h4 class="code-header">pub fn <a href="#method.receive" class="fn">receive</a>(&amp;self, state_id: <a class="struct" href="struct.StateId.html" title="struct futures_intrusive::channel::StateId">StateId</a>) -&gt; <a class="struct" href="struct.StateReceiveFuture.html" title="struct futures_intrusive::channel::StateReceiveFuture">StateReceiveFuture</a>&lt;'_, MutexType, T&gt; <a href="#" class="tooltip" data-notable-ty="StateReceiveFuture&lt;&#39;_, MutexType, T&gt;">ⓘ</a></h4></section></summary><div class="docblock"><p>Returns a future that gets fulfilled when a value is written to the channel
or the channel is closed.
<code>state_id</code> specifies the minimum state ID that should be retrieved
by the <code>receive</code> operation.</p>
<p>The returned <a href="struct.StateReceiveFuture.html" title="struct futures_intrusive::channel::StateReceiveFuture"><code>StateReceiveFuture</code></a> will get fulfilled with the
retrieved value as well as the <a href="struct.StateId.html" title="struct futures_intrusive::channel::StateId"><code>StateId</code></a> which is required to retrieve
the following state.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.try_receive" class="method"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#401-403">source</a><h4 class="code-header">pub fn <a href="#method.try_receive" class="fn">try_receive</a>(&amp;self, state_id: <a class="struct" href="struct.StateId.html" title="struct futures_intrusive::channel::StateId">StateId</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;(<a class="struct" href="struct.StateId.html" title="struct futures_intrusive::channel::StateId">StateId</a>, T)&gt;</h4></section></summary><div class="docblock"><p>Attempt to retrieve a value whose <code>StateId</code> is greater than the one provided.</p>
<p>Returns <code>None</code> if no value is found in the channel, or if the current <code>StateId</code>
of the value is less or equal to the one provided.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor">§</a></h2><div id="trait-implementations-list"><details class="toggle implementors-toggle" open><summary><section id="impl-Debug-for-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="impl"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#336-342">source</a><a href="#impl-Debug-for-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;MutexType: <a class="trait" href="../../lock_api/mutex/trait.RawMutex.html" title="trait lock_api::mutex::RawMutex">RawMutex</a>, T&gt; <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="struct.GenericStateBroadcastChannel.html" title="struct futures_intrusive::channel::GenericStateBroadcastChannel">GenericStateBroadcastChannel</a>&lt;MutexType, T&gt;</h3></section></summary><div class="impl-items"><details class="toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#339-341">source</a><a href="#method.fmt" class="anchor">§</a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html#tymethod.fmt" class="fn">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.74.1/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.74.1/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.74.1/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></div></details></div></details><section id="impl-Send-for-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="impl"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#326-329">source</a><a href="#impl-Send-for-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;MutexType: <a class="trait" href="../../lock_api/mutex/trait.RawMutex.html" title="trait lock_api::mutex::RawMutex">RawMutex</a> + <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>, T: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="struct.GenericStateBroadcastChannel.html" title="struct futures_intrusive::channel::GenericStateBroadcastChannel">GenericStateBroadcastChannel</a>&lt;MutexType, T&gt;</h3></section><section id="impl-Sync-for-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="impl"><a class="src rightside" href="../../src/futures_intrusive/channel/state_broadcast.rs.html#331-334">source</a><a href="#impl-Sync-for-GenericStateBroadcastChannel%3CMutexType,+T%3E" class="anchor">§</a><h3 class="code-header">impl&lt;MutexType: <a class="trait" href="../../lock_api/mutex/trait.RawMutex.html" title="trait lock_api::mutex::RawMutex">RawMutex</a> + <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>, T: <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.74.1/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="struct.GenericStateBroadcastChannel.html" title="struct futures_intrusive::channel::GenericStateBroadcastChannel">GenericStateBroadcastChannel</a>&lt;MutexType, T&gt;</h3></section></div><script type="text/json" id="notable-traits-data">{"StateReceiveFuture<'_, MutexType, T>":"<h3>Notable traits for <code><a class=\"struct\" href=\"struct.StateReceiveFuture.html\" title=\"struct futures_intrusive::channel::StateReceiveFuture\">StateReceiveFuture</a>&lt;'a, MutexType, T&gt;</code></h3><pre><code><span class=\"where fmt-newline\">impl&lt;'a, MutexType, T: <a class=\"trait\" href=\"https://doc.rust-lang.org/1.74.1/core/clone/trait.Clone.html\" title=\"trait core::clone::Clone\">Clone</a>&gt; <a class=\"trait\" href=\"https://doc.rust-lang.org/1.74.1/core/future/future/trait.Future.html\" title=\"trait core::future::future::Future\">Future</a> for <a class=\"struct\" href=\"struct.StateReceiveFuture.html\" title=\"struct futures_intrusive::channel::StateReceiveFuture\">StateReceiveFuture</a>&lt;'a, MutexType, T&gt;</span><span class=\"where fmt-newline\">    type <a href=\"https://doc.rust-lang.org/1.74.1/core/future/future/trait.Future.html#associatedtype.Output\" class=\"associatedtype\">Output</a> = <a class=\"enum\" href=\"https://doc.rust-lang.org/1.74.1/core/option/enum.Option.html\" title=\"enum core::option::Option\">Option</a>&lt;(<a class=\"struct\" href=\"struct.StateId.html\" title=\"struct futures_intrusive::channel::StateId\">StateId</a>, T)&gt;;</span>"}</script></section></div></main></body></html>