<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="A rate limiter."><meta name="keywords" content="rust, rustlang, rust-lang, RateLimiter"><title>RateLimiter in governor::state - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc struct"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../../governor/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"></h2>
    </nav>
    <nav class="sidebar"><a class="sidebar-logo" href="../../governor/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">RateLimiter</a></h2><div class="sidebar-elems"><section><div class="block"><h3 class="sidebar-title"><a href="#implementations">Methods</a></h3><ul><li><a href="#method.check">check</a></li><li><a href="#method.check_key">check_key</a></li><li><a href="#method.check_key_n">check_key_n</a></li><li><a href="#method.check_n">check_n</a></li><li><a href="#method.dashmap">dashmap</a></li><li><a href="#method.dashmap_with_clock">dashmap_with_clock</a></li><li><a href="#method.direct">direct</a></li><li><a href="#method.direct_with_clock">direct_with_clock</a></li><li><a href="#method.hashmap">hashmap</a></li><li><a href="#method.hashmap_with_clock">hashmap_with_clock</a></li><li><a href="#method.into_state_store">into_state_store</a></li><li><a href="#method.is_empty">is_empty</a></li><li><a href="#method.keyed">keyed</a></li><li><a href="#method.len">len</a></li><li><a href="#method.new">new</a></li><li><a href="#method.retain_recent">retain_recent</a></li><li><a href="#method.shrink_to_fit">shrink_to_fit</a></li><li><a href="#method.until_key_ready">until_key_ready</a></li><li><a href="#method.until_key_ready_with_jitter">until_key_ready_with_jitter</a></li><li><a href="#method.until_n_ready">until_n_ready</a></li><li><a href="#method.until_n_ready_with_jitter">until_n_ready_with_jitter</a></li><li><a href="#method.until_ready">until_ready</a></li><li><a href="#method.until_ready_with_jitter">until_ready_with_jitter</a></li><li><a href="#method.with_middleware">with_middleware</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#trait-implementations">Trait Implementations</a></h3><ul><li><a href="#impl-Debug">Debug</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#synthetic-implementations">Auto Trait Implementations</a></h3><ul><li><a href="#impl-RefUnwindSafe">RefUnwindSafe</a></li><li><a href="#impl-Send">Send</a></li><li><a href="#impl-Sync">Sync</a></li><li><a href="#impl-Unpin">Unpin</a></li><li><a href="#impl-UnwindSafe">UnwindSafe</a></li></ul></div><div class="block"><h3 class="sidebar-title"><a href="#blanket-implementations">Blanket Implementations</a></h3><ul><li><a href="#impl-Any">Any</a></li><li><a href="#impl-Borrow%3CT%3E">Borrow&lt;T&gt;</a></li><li><a href="#impl-BorrowMut%3CT%3E">BorrowMut&lt;T&gt;</a></li><li><a href="#impl-From%3CT%3E">From&lt;T&gt;</a></li><li><a href="#impl-Into%3CU%3E">Into&lt;U&gt;</a></li><li><a href="#impl-TryFrom%3CU%3E">TryFrom&lt;U&gt;</a></li><li><a href="#impl-TryInto%3CU%3E">TryInto&lt;U&gt;</a></li><li><a href="#impl-VZip%3CV%3E">VZip&lt;V&gt;</a></li></ul></div></section><h2 class="location"><a href="index.html">In governor::state</a></h2><div id="sidebar-vars" data-name="RateLimiter" data-ty="struct" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../governor/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker hidden"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="22" height="22" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Struct <a href="../index.html">governor</a>::<wbr><a href="index.html">state</a>::<wbr><a class="struct" href="#">RateLimiter</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/governor/state.rs.html#57-68">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="docblock item-decl"><pre class="rust struct"><code>pub struct RateLimiter&lt;K, S, C, MW&nbsp;=&nbsp;<a class="struct" href="../middleware/struct.NoOpMiddleware.html" title="struct governor::middleware::NoOpMiddleware">NoOpMiddleware</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="trait.StateStore.html" title="trait governor::state::StateStore">StateStore</a>&lt;Key = K&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;,&nbsp;</span> { /* private fields */ }</code></pre></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>A rate limiter.</p>
<p>This is the structure that ties together the parameters (how many cells to allow in what time
period) and the concrete state of rate limiting decisions. This crate ships in-memory state
stores, but it’s possible (by implementing the <a href="trait.StateStore.html" title="StateStore"><code>StateStore</code></a> trait) to make others.</p>
</div></details><h2 id="implementations" class="small-section-header">Implementations<a href="#implementations" class="anchor"></a></h2><div id="implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct/future.rs.html#31-117">source</a></span><a href="#impl" class="anchor"></a><h3 class="code-header in-band">impl&lt;S, C, MW&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;<a class="enum" href="direct/enum.NotKeyed.html" title="enum governor::state::direct::NotKeyed">NotKeyed</a>, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="direct/trait.DirectStateStore.html" title="trait governor::state::direct::DirectStateStore">DirectStateStore</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.ReasonablyRealtime.html" title="trait governor::clock::ReasonablyRealtime">ReasonablyRealtime</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>, NegativeOutcome = <a class="struct" href="../struct.NotUntil.html" title="struct governor::NotUntil">NotUntil</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;&gt;,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="direct-rate-limiters---asyncawait"><a href="#direct-rate-limiters---asyncawait">Direct rate limiters - <code>async</code>/<code>await</code></a></h4></div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.until_ready" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct/future.rs.html#46-48">source</a></span><a href="#method.until_ready" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.until_ready" class="fnname">until_ready</a>(&amp;self) -&gt; MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a></h4></section></summary><div class="docblock"><p>Asynchronously resolves as soon as the rate limiter allows it.</p>
<p>When polled, the returned future either resolves immediately (in the case where the rate
limiter allows it), or else triggers an asynchronous delay, after which the rate limiter
is polled again. This means that the future might resolve at some later time (depending
on what other measurements are made on the rate limiter).</p>
<p>If multiple futures are dispatched against the rate limiter, it is advisable to use
<a href="#method.until_ready_with_jitter"><code>until_ready_with_jitter</code></a>, to avoid thundering herds.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.until_ready_with_jitter" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct/future.rs.html#61-73">source</a></span><a href="#method.until_ready_with_jitter" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.until_ready_with_jitter" class="fnname">until_ready_with_jitter</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;jitter: <a class="struct" href="../struct.Jitter.html" title="struct governor::Jitter">Jitter</a><br>) -&gt; MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a></h4></section></summary><div class="docblock"><p>Asynchronously resolves as soon as the rate limiter allows it, with a randomized wait
period.</p>
<p>When polled, the returned future either resolves immediately (in the case where the rate
limiter allows it), or else triggers an asynchronous delay, after which the rate limiter
is polled again. This means that the future might resolve at some later time (depending
on what other measurements are made on the rate limiter).</p>
<p>This method allows for a randomized additional delay between polls of the rate limiter,
which can help reduce the likelihood of thundering herd effects if multiple tasks try to
wait on the same rate limiter.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.until_n_ready" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct/future.rs.html#82-87">source</a></span><a href="#method.until_n_ready" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.until_n_ready" class="fnname">until_n_ready</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;n: <a class="struct" href="https://doc.rust-lang.org/1.61.0/core/num/nonzero/struct.NonZeroU32.html" title="struct core::num::nonzero::NonZeroU32">NonZeroU32</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a>, <a class="struct" href="direct/struct.InsufficientCapacity.html" title="struct governor::state::direct::InsufficientCapacity">InsufficientCapacity</a>&gt;</h4></section></summary><div class="docblock"><p>Asynchronously resolves as soon as the rate limiter allows it.</p>
<p>This is similar to <code>until_ready</code> except it waits for an abitrary number
of <code>n</code> cells to be available.</p>
<p>Returns <code>InsufficientCapacity</code> if the <code>n</code> provided exceeds the maximum
capacity of the rate limiter.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.until_n_ready_with_jitter" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct/future.rs.html#97-116">source</a></span><a href="#method.until_n_ready_with_jitter" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.until_n_ready_with_jitter" class="fnname">until_n_ready_with_jitter</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;n: <a class="struct" href="https://doc.rust-lang.org/1.61.0/core/num/nonzero/struct.NonZeroU32.html" title="struct core::num::nonzero::NonZeroU32">NonZeroU32</a>, <br>&nbsp;&nbsp;&nbsp;&nbsp;jitter: <a class="struct" href="../struct.Jitter.html" title="struct governor::Jitter">Jitter</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a>, <a class="struct" href="direct/struct.InsufficientCapacity.html" title="struct governor::state::direct::InsufficientCapacity">InsufficientCapacity</a>&gt;</h4></section></summary><div class="docblock"><p>Asynchronously resolves as soon as the rate limiter allows it, with a
randomized wait period.</p>
<p>This is similar to <code>until_ready_with_jitter</code> except it waits for an
abitrary number of <code>n</code> cells to be available.</p>
<p>Returns <code>InsufficientCapacity</code> if the <code>n</code> provided exceeds the maximum
capacity of the rate limiter.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-1" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct.rs.html#42-50">source</a></span><a href="#impl-1" class="anchor"></a><h3 class="code-header in-band">impl <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;<a class="enum" href="direct/enum.NotKeyed.html" title="enum governor::state::direct::NotKeyed">NotKeyed</a>, <a class="struct" href="struct.InMemoryState.html" title="struct governor::state::InMemoryState">InMemoryState</a>, <a class="type" href="../clock/type.DefaultClock.html" title="type governor::clock::DefaultClock">DefaultClock</a>, <a class="struct" href="../middleware/struct.NoOpMiddleware.html" title="struct governor::middleware::NoOpMiddleware">NoOpMiddleware</a>&gt;</h3></section></summary><div class="docblock"><h4 id="direct-in-memory-rate-limiters---constructors"><a href="#direct-in-memory-rate-limiters---constructors">Direct in-memory rate limiters - Constructors</a></h4>
<p>Here we construct an in-memory rate limiter that makes direct (un-keyed)
rate-limiting decisions. Direct rate limiters can be used to
e.g. regulate the transmission of packets on a single connection,
or to ensure that an API client stays within a service’s rate
limit.</p>
</div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.direct" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct.rs.html#44-49">source</a></span><a href="#method.direct" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.direct" class="fnname">direct</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a><br>) -&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;<a class="enum" href="direct/enum.NotKeyed.html" title="enum governor::state::direct::NotKeyed">NotKeyed</a>, <a class="struct" href="struct.InMemoryState.html" title="struct governor::state::InMemoryState">InMemoryState</a>, <a class="type" href="../clock/type.DefaultClock.html" title="type governor::clock::DefaultClock">DefaultClock</a>, <a class="struct" href="../middleware/struct.NoOpMiddleware.html" title="struct governor::middleware::NoOpMiddleware">NoOpMiddleware</a>&gt;</h4></section></summary><div class="docblock"><p>Constructs a new in-memory direct rate limiter for a quota with the default real-time clock.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-2" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct.rs.html#52-61">source</a></span><a href="#impl-2" class="anchor"></a><h3 class="code-header in-band">impl&lt;C&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;<a class="enum" href="direct/enum.NotKeyed.html" title="enum governor::state::direct::NotKeyed">NotKeyed</a>, <a class="struct" href="struct.InMemoryState.html" title="struct governor::state::InMemoryState">InMemoryState</a>, C, <a class="struct" href="../middleware/struct.NoOpMiddleware.html" title="struct governor::middleware::NoOpMiddleware">NoOpMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.direct_with_clock" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct.rs.html#57-60">source</a></span><a href="#method.direct_with_clock" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.direct_with_clock" class="fnname">direct_with_clock</a>(quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a>, clock: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>C) -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a new direct rate limiter for a quota with a custom clock.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-3" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct.rs.html#64-110">source</a></span><a href="#impl-3" class="anchor"></a><h3 class="code-header in-band">impl&lt;S, C, MW&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;<a class="enum" href="direct/enum.NotKeyed.html" title="enum governor::state::direct::NotKeyed">NotKeyed</a>, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="direct/trait.DirectStateStore.html" title="trait governor::state::direct::DirectStateStore">DirectStateStore</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="direct-rate-limiters---manually-checking-cells"><a href="#direct-rate-limiters---manually-checking-cells">Direct rate limiters - Manually checking cells</a></h4></div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.check" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct.rs.html#74-81">source</a></span><a href="#method.check" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.check" class="fnname">check</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a>, MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.NegativeOutcome" title="type governor::middleware::RateLimitingMiddleware::NegativeOutcome">NegativeOutcome</a>&gt;</h4></section></summary><div class="docblock"><p>Allow a single cell through the rate limiter.</p>
<p>If the rate limit is reached, <code>check</code> returns information about the earliest
time that a cell might be allowed through again.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.check_n" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/direct.rs.html#97-109">source</a></span><a href="#method.check_n" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.check_n" class="fnname">check_n</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;n: <a class="struct" href="https://doc.rust-lang.org/1.61.0/core/num/nonzero/struct.NonZeroU32.html" title="struct core::num::nonzero::NonZeroU32">NonZeroU32</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a>, <a class="enum" href="../enum.NegativeMultiDecision.html" title="enum governor::NegativeMultiDecision">NegativeMultiDecision</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.NegativeOutcome" title="type governor::middleware::RateLimitingMiddleware::NegativeOutcome">NegativeOutcome</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Allow <em>only all</em> <code>n</code> cells through the rate limiter.</p>
<p>This method can succeed in only one way and fail in two ways:</p>
<ul>
<li>Success: If all <code>n</code> cells can be accommodated, it returns <code>Ok(())</code>.</li>
<li>Failure (but ok): Not all cells can make it through at the current time.
The result is <code>Err(NegativeMultiDecision::BatchNonConforming(NotUntil))</code>, which can
be interrogated about when the batch might next conform.</li>
<li>Failure (the batch can never go through): The rate limit quota’s burst size is too low
for the given number of cells to ever be allowed through.</li>
</ul>
<h6 id="performance"><a href="#performance">Performance</a></h6>
<p>This method diverges a little from the GCRA algorithm, using
multiplication to determine the next theoretical arrival time, and so
is not as fast as checking a single cell.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-4" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed/hashmap.rs.html#64-74">source</a></span><a href="#impl-4" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, C&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, <a class="type" href="keyed/type.HashMapStateStore.html" title="type governor::state::keyed::HashMapStateStore">HashMapStateStore</a>&lt;K&gt;, C, <a class="struct" href="../middleware/struct.NoOpMiddleware.html" title="struct governor::middleware::NoOpMiddleware">NoOpMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="keyed-rate-limiters---hashmap-backed"><a href="#keyed-rate-limiters---hashmap-backed">Keyed rate limiters - <code>HashMap</code>-backed</a></h4></div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.hashmap_with_clock" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed/hashmap.rs.html#70-73">source</a></span><a href="#method.hashmap_with_clock" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.hashmap_with_clock" class="fnname">hashmap_with_clock</a>(quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a>, clock: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>C) -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a new rate limiter with a custom clock, backed by a <a href="https://doc.rust-lang.org/1.61.0/std/collections/hash/map/struct.HashMap.html" title="HashMap"><code>HashMap</code></a>.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-5" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed/dashmap.rs.html#33-44">source</a></span><a href="#impl-5" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, C&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, <a class="type" href="keyed/type.DashMapStateStore.html" title="type governor::state::keyed::DashMapStateStore">DashMapStateStore</a>&lt;K&gt;, C, <a class="struct" href="../middleware/struct.NoOpMiddleware.html" title="struct governor::middleware::NoOpMiddleware">NoOpMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="keyed-rate-limiters---dashmap-backed"><a href="#keyed-rate-limiters---dashmap-backed">Keyed rate limiters - <code>DashMap</code>-backed</a></h4></div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.dashmap_with_clock" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed/dashmap.rs.html#40-43">source</a></span><a href="#method.dashmap_with_clock" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dashmap_with_clock" class="fnname">dashmap_with_clock</a>(quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a>, clock: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>C) -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a new rate limiter with a custom clock, backed by a
<a href="../../dashmap/struct.DashMap.html" title="dashmap::DashMap"><code>DashMap</code></a>.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-6" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed/future.rs.html#12-60">source</a></span><a href="#impl-6" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="keyed/trait.KeyedStateStore.html" title="trait governor::state::keyed::KeyedStateStore">KeyedStateStore</a>&lt;K&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.ReasonablyRealtime.html" title="trait governor::clock::ReasonablyRealtime">ReasonablyRealtime</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>, NegativeOutcome = <a class="struct" href="../struct.NotUntil.html" title="struct governor::NotUntil">NotUntil</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;&gt;,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="keyed-rate-limiters---asyncawait"><a href="#keyed-rate-limiters---asyncawait">Keyed rate limiters - <code>async</code>/<code>await</code></a></h4></div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.until_key_ready" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed/future.rs.html#28-30">source</a></span><a href="#method.until_key_ready" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.until_key_ready" class="fnname">until_key_ready</a>(&amp;self, key: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>K) -&gt; MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a></h4></section></summary><div class="docblock"><p>Asynchronously resolves as soon as the rate limiter allows it.</p>
<p>When polled, the returned future either resolves immediately (in the case where the rate
limiter allows it), or else triggers an asynchronous delay, after which the rate limiter
is polled again. This means that the future might resolve at some later time (depending
on what other measurements are made on the rate limiter).</p>
<p>If multiple futures are dispatched against the rate limiter, it is advisable to use
<a href="#method.until_ready_with_jitter"><code>until_ready_with_jitter</code></a>, to avoid thundering herds.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.until_key_ready_with_jitter" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed/future.rs.html#43-59">source</a></span><a href="#method.until_key_ready_with_jitter" class="anchor"></a><h4 class="code-header">pub async fn <a href="#method.until_key_ready_with_jitter" class="fnname">until_key_ready_with_jitter</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>K, <br>&nbsp;&nbsp;&nbsp;&nbsp;jitter: <a class="struct" href="../struct.Jitter.html" title="struct governor::Jitter">Jitter</a><br>) -&gt; MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a></h4></section></summary><div class="docblock"><p>Asynchronously resolves as soon as the rate limiter allows it, with a randomized wait
period.</p>
<p>When polled, the returned future either resolves immediately (in the case where the rate
limiter allows it), or else triggers an asynchronous delay, after which the rate limiter
is polled again. This means that the future might resolve at some later time (depending
on what other measurements are made on the rate limiter).</p>
<p>This method allows for a randomized additional delay between polls of the rate limiter,
which can help reduce the likelihood of thundering herd effects if multiple tasks try to
wait on the same rate limiter.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-7" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#36-64">source</a></span><a href="#impl-7" class="anchor"></a><h3 class="code-header in-band">impl&lt;K&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, <a class="type" href="keyed/type.DefaultKeyedStateStore.html" title="type governor::state::keyed::DefaultKeyedStateStore">DefaultKeyedStateStore</a>&lt;K&gt;, <a class="type" href="../clock/type.DefaultClock.html" title="type governor::clock::DefaultClock">DefaultClock</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a>,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="keyed-rate-limiters---default-constructors"><a href="#keyed-rate-limiters---default-constructors">Keyed rate limiters - default constructors</a></h4></div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.keyed" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#42-46">source</a></span><a href="#method.keyed" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.keyed" class="fnname">keyed</a>(quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a new keyed rate limiter backed by
the <a href="keyed/type.DefaultKeyedStateStore.html" title="DefaultKeyedStateStore"><code>DefaultKeyedStateStore</code></a>.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.dashmap" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#50-54">source</a></span><a href="#method.dashmap" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.dashmap" class="fnname">dashmap</a>(quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a new keyed rate limiter explicitly backed by a <a href="../../dashmap/struct.DashMap.html" title="::dashmap::DashMap"><code>DashMap</code></a>.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-8" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#67-78">source</a></span><a href="#impl-8" class="anchor"></a><h3 class="code-header in-band">impl&lt;K&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, <a class="type" href="keyed/type.HashMapStateStore.html" title="type governor::state::keyed::HashMapStateStore">HashMapStateStore</a>&lt;K&gt;, <a class="type" href="../clock/type.DefaultClock.html" title="type governor::clock::DefaultClock">DefaultClock</a>&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a> + <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.hashmap" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#73-77">source</a></span><a href="#method.hashmap" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.hashmap" class="fnname">hashmap</a>(quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a>) -&gt; Self</h4></section></summary><div class="docblock"><p>Constructs a new keyed rate limiter explicitly backed by a
<a href="https://doc.rust-lang.org/1.61.0/std/collections/hash/map/struct.HashMap.html" title="std::collections::HashMap"><code>HashMap</code></a>.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-9" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#81-128">source</a></span><a href="#impl-9" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="keyed/trait.KeyedStateStore.html" title="trait governor::state::keyed::KeyedStateStore">KeyedStateStore</a>&lt;K&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="keyed-rate-limiters---manually-checking-cells"><a href="#keyed-rate-limiters---manually-checking-cells">Keyed rate limiters - Manually checking cells</a></h4></div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.check_key" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#92-99">source</a></span><a href="#method.check_key" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.check_key" class="fnname">check_key</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>K<br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a>, MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.NegativeOutcome" title="type governor::middleware::RateLimitingMiddleware::NegativeOutcome">NegativeOutcome</a>&gt;</h4></section></summary><div class="docblock"><p>Allow a single cell through the rate limiter for the given key.</p>
<p>If the rate limit is reached, <code>check_key</code> returns information about the earliest
time that a cell might be allowed through again under that key.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.check_key_n" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#115-127">source</a></span><a href="#method.check_key_n" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.check_key_n" class="fnname">check_key_n</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;&amp;self, <br>&nbsp;&nbsp;&nbsp;&nbsp;key: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>K, <br>&nbsp;&nbsp;&nbsp;&nbsp;n: <a class="struct" href="https://doc.rust-lang.org/1.61.0/core/num/nonzero/struct.NonZeroU32.html" title="struct core::num::nonzero::NonZeroU32">NonZeroU32</a><br>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.PositiveOutcome" title="type governor::middleware::RateLimitingMiddleware::PositiveOutcome">PositiveOutcome</a>, <a class="enum" href="../enum.NegativeMultiDecision.html" title="enum governor::NegativeMultiDecision">NegativeMultiDecision</a>&lt;MW::<a class="associatedtype" href="../middleware/trait.RateLimitingMiddleware.html#associatedtype.NegativeOutcome" title="type governor::middleware::RateLimitingMiddleware::NegativeOutcome">NegativeOutcome</a>&gt;&gt;</h4></section></summary><div class="docblock"><p>Allow <em>only all</em> <code>n</code> cells through the rate limiter for the given key.</p>
<p>This method can succeed in only one way and fail in two ways:</p>
<ul>
<li>Success: If all <code>n</code> cells can be accommodated, it returns <code>Ok(())</code>.</li>
<li>Failure (but ok): Not all cells can make it through at the current time.
The result is <code>Err(NegativeMultiDecision::BatchNonConforming(NotUntil))</code>, which can
be interrogated about when the batch might next conform.</li>
<li>Failure (the batch can never go through): The rate limit is too low for the given number
of cells.</li>
</ul>
<h6 id="performance-1"><a href="#performance-1">Performance</a></h6>
<p>This method diverges a little from the GCRA algorithm, using
multiplication to determine the next theoretical arrival time, and so
is not as fast as checking a single cell.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-10" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#168-210">source</a></span><a href="#impl-10" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="keyed/trait.ShrinkableKeyedStateStore.html" title="trait governor::state::keyed::ShrinkableKeyedStateStore">ShrinkableKeyedStateStore</a>&lt;K&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;K: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;,&nbsp;</span></h3></section></summary><div class="docblock"><h4 id="keyed-rate-limiters---housekeeping"><a href="#keyed-rate-limiters---housekeeping">Keyed rate limiters - Housekeeping</a></h4>
<p>As the inputs to a keyed rate-limiter can be arbitrary keys, the set of retained keys retained
grows, while the number of active keys may stay smaller. To save on space, a keyed rate-limiter
allows removing those keys that are “stale”, i.e., whose values are no different from keys’ that
aren’t present in the rate limiter state store.</p>
</div><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.retain_recent" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#179-187">source</a></span><a href="#method.retain_recent" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.retain_recent" class="fnname">retain_recent</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Retains all keys in the rate limiter that were used recently enough.</p>
<p>Any key whose rate limiting state is indistinguishable from a “fresh” state (i.e., the
theoretical arrival time lies in the past).</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.shrink_to_fit" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#190-192">source</a></span><a href="#method.shrink_to_fit" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.shrink_to_fit" class="fnname">shrink_to_fit</a>(&amp;self)</h4></section></summary><div class="docblock"><p>Shrinks the capacity of the rate limiter’s state store, if possible.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.len" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#198-200">source</a></span><a href="#method.len" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.len" class="fnname">len</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.usize.html">usize</a></h4></section></summary><div class="docblock"><p>Returns the number of “live” keys in the rate limiter’s state store.</p>
<p>Depending on how the state store is implemented, this may
return an estimate or an out-of-date result.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.is_empty" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state/keyed.rs.html#207-209">source</a></span><a href="#method.is_empty" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.is_empty" class="fnname">is_empty</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Returns <code>true</code> if the rate limiter has no keys in it.</p>
<p>As with <a href="#method.len"><code>len</code></a>, this method may return
imprecise results (indicating that the state store is empty
while a concurrent rate-limiting operation is taking place).</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-11" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state.rs.html#70-99">source</a></span><a href="#impl-11" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="trait.StateStore.html" title="trait governor::state::StateStore">StateStore</a>&lt;Key = K&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.new" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state.rs.html#80-91">source</a></span><a href="#method.new" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.new" class="fnname">new</a>(quota: <a class="struct" href="../struct.Quota.html" title="struct governor::Quota">Quota</a>, state: S, clock: <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>C) -&gt; Self</h4></section></summary><div class="docblock"><p>Creates a new rate limiter from components.</p>
<p>This is the most generic way to construct a rate-limiter; most users should prefer
<a href="direct/index.html" title="direct"><code>direct</code></a> or other methods instead.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into_state_store" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state.rs.html#96-98">source</a></span><a href="#method.into_state_store" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.into_state_store" class="fnname">into_state_store</a>(self) -&gt; S</h4></section></summary><div class="docblock"><p>Consumes the <code>RateLimiter</code> and returns the state store.</p>
<p>This is mostly useful for debugging and testing.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-12" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state.rs.html#101-119">source</a></span><a href="#impl-12" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="trait.StateStore.html" title="trait governor::state::StateStore">StateStore</a>&lt;Key = K&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.with_middleware" class="method has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state.rs.html#108-118">source</a></span><a href="#method.with_middleware" class="anchor"></a><h4 class="code-header">pub fn <a href="#method.with_middleware" class="fnname">with_middleware</a>&lt;Outer:&nbsp;<a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self<br>) -&gt; <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, Outer&gt;</h4></section></summary><div class="docblock"><p>Convert the given rate limiter into one that uses a different middleware.</p>
</div></details></div></details></div><h2 id="trait-implementations" class="small-section-header">Trait Implementations<a href="#trait-implementations" class="anchor"></a></h2><div id="trait-implementations-list"><details class="rustdoc-toggle implementors-toggle" open><summary><section id="impl-Debug" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state.rs.html#56">source</a></span><a href="#impl-Debug" class="anchor"></a><h3 class="code-header in-band">impl&lt;K:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>, S:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>, C:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>, MW:&nbsp;<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> for <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="trait.StateStore.html" title="trait governor::state::StateStore">StateStore</a>&lt;Key = K&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="../middleware/trait.RateLimitingMiddleware.html" title="trait governor::middleware::RateLimitingMiddleware">RateLimitingMiddleware</a>&lt;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;C::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.fmt" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/governor/state.rs.html#56">source</a></span><a href="#method.fmt" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html#tymethod.fmt" class="fnname">fmt</a>(&amp;self, f: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.61.0/core/fmt/struct.Formatter.html" title="struct core::fmt::Formatter">Formatter</a>&lt;'_&gt;) -&gt; <a class="type" href="https://doc.rust-lang.org/1.61.0/core/fmt/type.Result.html" title="type core::fmt::Result">Result</a></h4></section></summary><div class='docblock'><p>Formats the value using the given formatter. <a href="https://doc.rust-lang.org/1.61.0/core/fmt/trait.Debug.html#tymethod.fmt">Read more</a></p>
</div></details></div></details></div><h2 id="synthetic-implementations" class="small-section-header">Auto Trait Implementations<a href="#synthetic-implementations" class="anchor"></a></h2><div id="synthetic-implementations-list"><section id="impl-RefUnwindSafe" class="impl has-srclink"><a href="#impl-RefUnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a> for <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;C as <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>&gt;::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.RefUnwindSafe.html" title="trait core::panic::unwind_safe::RefUnwindSafe">RefUnwindSafe</a>,&nbsp;</span></h3></section><section id="impl-Send" class="impl has-srclink"><a href="#impl-Send" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> for <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>,&nbsp;</span></h3></section><section id="impl-Sync" class="impl has-srclink"><a href="#impl-Sync" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a> for <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>,&nbsp;</span></h3></section><section id="impl-Unpin" class="impl has-srclink"><a href="#impl-Unpin" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a> for <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;C as <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>&gt;::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Unpin.html" title="trait core::marker::Unpin">Unpin</a>,&nbsp;</span></h3></section><section id="impl-UnwindSafe" class="impl has-srclink"><a href="#impl-UnwindSafe" class="anchor"></a><h3 class="code-header in-band">impl&lt;K, S, C, MW&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a> for <a class="struct" href="../struct.RateLimiter.html" title="struct governor::RateLimiter">RateLimiter</a>&lt;K, S, C, MW&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;C: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;MW: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;S: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;&lt;C as <a class="trait" href="../clock/trait.Clock.html" title="trait governor::clock::Clock">Clock</a>&gt;::<a class="associatedtype" href="../clock/trait.Clock.html#associatedtype.Instant" title="type governor::clock::Clock::Instant">Instant</a>: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/panic/unwind_safe/trait.UnwindSafe.html" title="trait core::panic::unwind_safe::UnwindSafe">UnwindSafe</a>,&nbsp;</span></h3></section></div><h2 id="blanket-implementations" class="small-section-header">Blanket Implementations<a href="#blanket-implementations" class="anchor"></a></h2><div id="blanket-implementations-list"><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Any" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/any.rs.html#132-136">source</a></span><a href="#impl-Any" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/any/trait.Any.html" title="trait core::any::Any">Any</a> for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: 'static + ?<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.type_id" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/any.rs.html#133">source</a></span><a href="#method.type_id" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/any/trait.Any.html#tymethod.type_id" class="fnname">type_id</a>(&amp;self) -&gt; <a class="struct" href="https://doc.rust-lang.org/1.61.0/core/any/struct.TypeId.html" title="struct core::any::TypeId">TypeId</a></h4></section></summary><div class='docblock'><p>Gets the <code>TypeId</code> of <code>self</code>. <a href="https://doc.rust-lang.org/1.61.0/core/any/trait.Any.html#tymethod.type_id">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Borrow%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#209-214">source</a></span><a href="#impl-Borrow%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.Borrow.html" title="trait core::borrow::Borrow">Borrow</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#211">source</a></span><a href="#method.borrow" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.Borrow.html#tymethod.borrow" class="fnname">borrow</a>(&amp;self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;</a>T</h4></section></summary><div class='docblock'><p>Immutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.Borrow.html#tymethod.borrow">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-BorrowMut%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#218-222">source</a></span><a href="#impl-BorrowMut%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.BorrowMut.html" title="trait core::borrow::BorrowMut">BorrowMut</a>&lt;T&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: ?<a class="trait" href="https://doc.rust-lang.org/1.61.0/core/marker/trait.Sized.html" title="trait core::marker::Sized">Sized</a>,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.borrow_mut" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/91522" title="Tracking issue for const_borrow">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/borrow.rs.html#219">source</a></span><a href="#method.borrow_mut" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut" class="fnname">borrow_mut</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.61.0/std/primitive.reference.html">&amp;mut </a>T</h4></section></summary><div class='docblock'><p>Mutably borrows from an owned value. <a href="https://doc.rust-lang.org/1.61.0/core/borrow/trait.BorrowMut.html#tymethod.borrow_mut">Read more</a></p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-From%3CT%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#557-562">source</a></span><a href="#impl-From%3CT%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt; for T</h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#559">source</a></span><a href="#method.from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html#tymethod.from" class="fnname">from</a>(t: T) -&gt; T</h4></section></summary><div class="docblock"><p>Returns the argument unchanged.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-Into%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#541-552">source</a></span><a href="#impl-Into%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html" title="trait core::convert::From">From</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle method-toggle" open><summary><section id="method.into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#549">source</a></span><a href="#method.into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.Into.html#tymethod.into" class="fnname">into</a>(self) -&gt; U</h4></section></summary><div class="docblock"><p>Calls <code>U::from(self)</code>.</p>
<p>That is, this conversion is whatever the implementation of
<code><a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.From.html" title="From">From</a>&lt;T&gt; for U</code> chooses to do.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryFrom%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#598-607">source</a></span><a href="#impl-TryFrom%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error" class="type trait-impl has-srclink"><a href="#associatedtype.Error" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" class="associatedtype">Error</a> = <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/convert/enum.Infallible.html" title="enum core::convert::Infallible">Infallible</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_from" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#604">source</a></span><a href="#method.try_from" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#tymethod.try_from" class="fnname">try_from</a>(value: U) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;T, &lt;T as <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;U&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-TryInto%3CU%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#583-592">source</a></span><a href="#impl-TryInto%3CU%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;T, U&gt; <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryInto.html" title="trait core::convert::TryInto">TryInto</a>&lt;U&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;U: <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><details class="rustdoc-toggle" open><summary><section id="associatedtype.Error-1" class="type trait-impl has-srclink"><a href="#associatedtype.Error-1" class="anchor"></a><h4 class="code-header">type <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryInto.html#associatedtype.Error" class="associatedtype">Error</a> = &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a></h4></section></summary><div class='docblock'><p>The type returned in the event of a conversion error.</p>
</div></details><details class="rustdoc-toggle method-toggle" open><summary><section id="method.try_into" class="method trait-impl has-srclink"><span class="rightside"><span class="since" title="const unstable">const: <a href="https://github.com/rust-lang/rust/issues/88674" title="Tracking issue for const_convert">unstable</a></span> · <a class="srclink" href="https://doc.rust-lang.org/1.61.0/src/core/convert/mod.rs.html#589">source</a></span><a href="#method.try_into" class="anchor"></a><h4 class="code-header">fn <a href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryInto.html#tymethod.try_into" class="fnname">try_into</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.61.0/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;U, &lt;U as <a class="trait" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html" title="trait core::convert::TryFrom">TryFrom</a>&lt;T&gt;&gt;::<a class="associatedtype" href="https://doc.rust-lang.org/1.61.0/core/convert/trait.TryFrom.html#associatedtype.Error" title="type core::convert::TryFrom::Error">Error</a>&gt;</h4></section></summary><div class='docblock'><p>Performs the conversion.</p>
</div></details></div></details><details class="rustdoc-toggle implementors-toggle"><summary><section id="impl-VZip%3CV%3E" class="impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/ppv_lite86/types.rs.html#224-232">source</a></span><a href="#impl-VZip%3CV%3E" class="anchor"></a><h3 class="code-header in-band">impl&lt;V, T&gt; <a class="trait" href="../../ppv_lite86/types/trait.VZip.html" title="trait ppv_lite86::types::VZip">VZip</a>&lt;V&gt; for T <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;V: <a class="trait" href="../../ppv_lite86/types/trait.MultiLane.html" title="trait ppv_lite86::types::MultiLane">MultiLane</a>&lt;T&gt;,&nbsp;</span></h3></section></summary><div class="impl-items"><section id="method.vzip" class="method trait-impl has-srclink"><span class="rightside"><a class="srclink" href="../../src/ppv_lite86/types.rs.html#229">source</a></span><a href="#method.vzip" class="anchor"></a><h4 class="code-header">fn <a href="../../ppv_lite86/types/trait.VZip.html#tymethod.vzip" class="fnname">vzip</a>(self) -&gt; V</h4></section></div></details></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="governor" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.61.0 (fe5b13d68 2022-05-18)" ></div>
</body></html>