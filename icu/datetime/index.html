<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Localized formatting of dates, times, and time zones."><title>icu::datetime - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-ca0dd0c4.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="icu" data-themes="" data-resource-suffix="" data-rustdoc-version="1.92.0 (ded5c06cf 2025-12-08)" data-channel="1.92.0" data-search-js="search-d69d8955.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../static.files/storage-e2aeef58.js"></script><script defer src="../../crates.js"></script><script defer src="../../static.files/main-ce535bd0.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-263c88ec.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-eab170b8.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Crate datetime</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../icu/index.html">icu</a><span class="version">2.1.1</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#examples" title="Examples">Examples</a></li><li><a href="#binary-size-considerations" title="Binary Size Considerations">Binary Size Considerations</a><ul><li><a href="#avoid-linking-unnecessary-field-sets-data" title="Avoid linking unnecessary field sets data">Avoid linking unnecessary field sets data</a></li><li><a href="#avoid-linking-unnecessary-calendar-data" title="Avoid linking unnecessary calendar data">Avoid linking unnecessary calendar data</a></li></ul></li></ul><h3><a href="#modules">Crate Items</a></h3><ul class="block"><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#types" title="Type Aliases">Type Aliases</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">icu</a></div><h1>Crate <span>datetime</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/icu_datetime/lib.rs.html#5-177">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Localized formatting of dates, times, and time zones.</p>
<p>This module is published as its own crate (<a href="https://docs.rs/icu_datetime/latest/icu_datetime/"><code>icu_datetime</code></a>)
and as part of the <a href="https://docs.rs/icu/latest/icu/"><code>icu</code></a> crate. See the latter for more details on the ICU4X project.</p>
<p>ICU4X datetime formatting follows the Unicode UTS 35 standard for <a href="https://unicode.org/reports/tr35/tr35-dates.html#Semantic_Skeletons">Semantic Skeletons</a>.
First you choose a <em>field set</em>, then you configure the formatting <em>options</em> to your desired context.</p>
<ol>
<li>Field Sets: <a href="fieldsets/index.html" title="mod icu::datetime::fieldsets"><code>icu::datetime::fieldsets</code></a></li>
<li>Options: <a href="options/index.html" title="mod icu::datetime::options"><code>icu::datetime::options</code></a></li>
</ol>
<p>ICU4X supports formatting in over one dozen <em>calendar systems</em>, including Gregorian, Buddhist,
Hijri, and more. The calendar system is usually derived from the locale, but it can also be
specified explicitly.</p>
<p>The main formatter in this crate is <a href="struct.DateTimeFormatter.html" title="struct icu::datetime::DateTimeFormatter"><code>DateTimeFormatter</code></a>, which supports all field sets,
options, and calendar systems. Additional formatter types are available to developers in
resource-constrained environments.</p>
<p>The formatters accept input types from the <a href="../calendar/index.html" title="mod icu::calendar"><code>calendar</code></a> and
<a href="../time/index.html" title="mod icu::time"><code>timezone</code></a> crates (Also reexported from the <a href="input/index.html" title="mod icu::datetime::input"><code>input</code></a> module of this crate):</p>
<ol>
<li><a href="../calendar/struct.Date.html" title="struct icu::calendar::Date"><code>Date</code></a></li>
<li><a href="../time/struct.DateTime.html" title="struct icu::time::DateTime"><code>DateTime</code></a></li>
<li><a href="../time/struct.Time.html" title="struct icu::time::Time"><code>Time</code></a></li>
<li><a href="input/struct.UtcOffset.html" title="struct icu::datetime::input::UtcOffset"><code>UtcOffset</code></a></li>
<li><a href="../time/struct.TimeZoneInfo.html" title="struct icu::time::TimeZoneInfo"><code>TimeZoneInfo</code></a></li>
<li><a href="../time/struct.ZonedDateTime.html" title="struct icu::time::ZonedDateTime"><code>ZonedDateTime</code></a></li>
</ol>
<p>Not all inputs are valid for all field sets.</p>
<h2 id="examples"><a class="doc-anchor" href="#examples">¬ß</a>Examples</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>icu::datetime::fieldsets;
<span class="kw">use </span>icu::datetime::input::Date;
<span class="kw">use </span>icu::datetime::input::{DateTime, Time};
<span class="kw">use </span>icu::datetime::DateTimeFormatter;
<span class="kw">use </span>icu::locale::{locale, Locale};
<span class="kw">use </span>writeable::assert_writeable_eq;

<span class="comment">// Field set for year, month, day, hour, and minute with a medium length:
</span><span class="kw">let </span>field_set_with_options = fieldsets::YMD::medium().with_time_hm();

<span class="comment">// Create a formatter for Argentinian Spanish:
</span><span class="kw">let </span>locale = <span class="macro">locale!</span>(<span class="string">"es-AR"</span>);
<span class="kw">let </span>dtf = DateTimeFormatter::try_new(locale.into(), field_set_with_options)
    .unwrap();

<span class="comment">// Format something:
</span><span class="kw">let </span>datetime = DateTime {
    date: Date::try_new_iso(<span class="number">2025</span>, <span class="number">1</span>, <span class="number">15</span>).unwrap(),
    time: Time::try_new(<span class="number">16</span>, <span class="number">9</span>, <span class="number">35</span>, <span class="number">0</span>).unwrap(),
};
<span class="kw">let </span>formatted_date = dtf.format(<span class="kw-2">&amp;</span>datetime);

<span class="macro">assert_writeable_eq!</span>(formatted_date, <span class="string">"15 de ene de 2025, 4:09‚ÄØp.‚ÄØm."</span>);</code></pre></div><h2 id="binary-size-considerations"><a class="doc-anchor" href="#binary-size-considerations">¬ß</a>Binary Size Considerations</h2><h3 id="avoid-linking-unnecessary-field-sets-data"><a class="doc-anchor" href="#avoid-linking-unnecessary-field-sets-data">¬ß</a>Avoid linking unnecessary field sets data</h3>
<p>There are two APIs for fieldsets:</p>
<ul>
<li>‚Äústatic‚Äù field sets, like <a href="fieldsets/struct.YMD.html" title="struct icu::datetime::fieldsets::YMD"><code>fieldsets::YMD</code></a>, where each field set is a <em>type</em>.</li>
<li>‚Äúdynamic‚Äù field sets, like <a href="fieldsets/enums/enum.CompositeFieldSet.html" title="enum icu::datetime::fieldsets::enums::CompositeFieldSet"><code>fieldsets::enums::CompositeFieldSet</code></a>, where each field set is a <em>value</em>.</li>
</ul>
<p>While dynamic fields sets may offer a more powerful API, using them in constructors links data for all
possible values, i.e. all patterns, that the dynamic field set can represent, even if they are
unreachable in code.</p>
<p>Static field sets on the other hand leverage the type system to let the compiler drop unneeded data.</p>
<h4 id="example"><a class="doc-anchor" href="#example">¬ß</a>Example</h4>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>icu::datetime::DateTimeFormatter;
<span class="kw">use </span>icu::datetime::fieldsets::YMD;
<span class="kw">use </span>icu::datetime::fieldsets::enums::{CompositeFieldSet, DateFieldSet};

<span class="comment">// This constructor only links data required for YMD
</span><span class="kw">let </span>a: DateTimeFormatter&lt;YMD&gt; =
    DateTimeFormatter::try_new(Default::default(), YMD::medium()).unwrap();

<span class="comment">// This constructor links data for *all possible field sets*, even though we only use YMD
</span><span class="kw">let </span>b: DateTimeFormatter&lt;CompositeFieldSet&gt; =
    DateTimeFormatter::try_new(Default::default(), CompositeFieldSet::Date(DateFieldSet::YMD(YMD::medium()))).unwrap();

<span class="comment">// If a DateTimeFormatter&lt;CompositeFieldSet&gt; is required, cast after construction instead:
</span><span class="kw">let </span>c: DateTimeFormatter&lt;CompositeFieldSet&gt; =  a.cast_into_fset::&lt;CompositeFieldSet&gt;();</code></pre></div><h3 id="avoid-linking-unnecessary-calendar-data"><a class="doc-anchor" href="#avoid-linking-unnecessary-calendar-data">¬ß</a>Avoid linking unnecessary calendar data</h3>
<p>All field sets that contain dates use different data for each calendar system when used with <a href="struct.DateTimeFormatter.html" title="struct icu::datetime::DateTimeFormatter"><code>DateTimeFormatter</code></a>.
This is good i18n practice, as in general the calendar system should be derived from the user locale,
not fixed in code. However, there are legitimate use cases where only one calendar system is supported,
in which case <a href="struct.DateTimeFormatter.html" title="struct icu::datetime::DateTimeFormatter"><code>DateTimeFormatter</code></a> would link unused data. In this case <a href="struct.FixedCalendarDateTimeFormatter.html" title="struct icu::datetime::FixedCalendarDateTimeFormatter"><code>FixedCalendarDateTimeFormatter</code></a>
can be used, which is generic in a calendar type and only links the data for that calendar.</p>
<p>Using <a href="struct.FixedCalendarDateTimeFormatter.html" title="struct icu::datetime::FixedCalendarDateTimeFormatter"><code>FixedCalendarDateTimeFormatter</code></a> also avoids linking code that converts inputs to the user‚Äôs calendar.
For field sets that don‚Äôt contain dates, this can also be achieved using <a href="type.NoCalendarFormatter.html" title="type icu::datetime::NoCalendarFormatter"><code>NoCalendarFormatter</code></a>.</p>
</div></details><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">¬ß</a></h2><dl class="item-table"><dt><a class="mod" href="fieldsets/index.html" title="mod icu::datetime::fieldsets">fieldsets</a></dt><dd>All available field sets for datetime formatting.</dd><dt><a class="mod" href="input/index.html" title="mod icu::datetime::input">input</a></dt><dd>Types that can be fed to <a href="struct.DateTimeFormatter.html" title="struct icu::datetime::DateTimeFormatter"><code>DateTimeFormatter</code></a>/<a href="struct.FixedCalendarDateTimeFormatter.html" title="struct icu::datetime::FixedCalendarDateTimeFormatter"><code>FixedCalendarDateTimeFormatter</code></a>.</dd><dt><a class="mod" href="options/index.html" title="mod icu::datetime::options">options</a></dt><dd>Options types for date/time formatting.</dd><dt><a class="mod" href="parts/index.html" title="mod icu::datetime::parts">parts</a></dt><dd>Parts of a formatted date/time.</dd><dt><a class="mod" href="pattern/index.html" title="mod icu::datetime::pattern">pattern</a></dt><dd>Lower-level, power-user APIs for formatting datetimes with pattern strings.</dd><dt><a class="mod" href="preferences/index.html" title="mod icu::datetime::preferences">preferences</a></dt><dd>Locale preferences used by this crate</dd><dt><a class="mod" href="provider/index.html" title="mod icu::datetime::provider">provider</a></dt><dd>üöß [Unstable] Data provider struct definitions for this ICU4X component.</dd><dt><a class="mod" href="scaffold/index.html" title="mod icu::datetime::scaffold">scaffold</a></dt><dd>Scaffolding traits and types for the datetime crate.</dd><dt><a class="mod" href="unchecked/index.html" title="mod icu::datetime::unchecked">unchecked</a></dt><dd>Datetime formatting without static checking of invariants.</dd></dl><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">¬ß</a></h2><dl class="item-table"><dt><a class="struct" href="struct.DateTimeFormatter.html" title="struct icu::datetime::DateTimeFormatter">Date<wbr>Time<wbr>Formatter</a></dt><dd><a href="struct.DateTimeFormatter.html" title="struct icu::datetime::DateTimeFormatter"><code>DateTimeFormatter</code></a> is a formatter capable of formatting dates and/or times from
a calendar selected at runtime.</dd><dt><a class="struct" href="struct.DateTimeFormatterPreferences.html" title="struct icu::datetime::DateTimeFormatterPreferences">Date<wbr>Time<wbr>Formatter<wbr>Preferences</a></dt><dd>The user locale preferences for datetime formatting.</dd><dt><a class="struct" href="struct.FixedCalendarDateTimeFormatter.html" title="struct icu::datetime::FixedCalendarDateTimeFormatter">Fixed<wbr>Calendar<wbr>Date<wbr>Time<wbr>Formatter</a></dt><dd><a href="struct.FixedCalendarDateTimeFormatter.html" title="struct icu::datetime::FixedCalendarDateTimeFormatter"><code>FixedCalendarDateTimeFormatter</code></a> is a formatter capable of formatting dates and/or times from
a calendar selected at compile time.</dd><dt><a class="struct" href="struct.FormattedDateTime.html" title="struct icu::datetime::FormattedDateTime">Formatted<wbr>Date<wbr>Time</a></dt><dd>An intermediate type during a datetime formatting operation.</dd><dt><a class="struct" href="struct.MismatchedCalendarError.html" title="struct icu::datetime::MismatchedCalendarError">Mismatched<wbr>Calendar<wbr>Error</a></dt><dd>An error from mixing calendar types in a formatter.</dd></dl><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">¬ß</a></h2><dl class="item-table"><dt><a class="enum" href="enum.DateTimeFormatterLoadError.html" title="enum icu::datetime::DateTimeFormatterLoadError">Date<wbr>Time<wbr>Formatter<wbr>Load<wbr>Error</a></dt><dd>An error from constructing a formatter.</dd></dl><h2 id="types" class="section-header">Type Aliases<a href="#types" class="anchor">¬ß</a></h2><dl class="item-table"><dt><a class="type" href="type.NoCalendarFormatter.html" title="type icu::datetime::NoCalendarFormatter">NoCalendar<wbr>Formatter</a></dt><dd>A formatter optimized for time and time zone formatting, when a calendar is not needed.</dd></dl></section></div></main></body></html>