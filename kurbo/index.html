<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="2D geometry, with a focus on curves."><title>kurbo - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="kurbo" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../kurbo/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../kurbo/index.html"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate kurbo</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.9.5</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#constants">Constants</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a class="mod" href="#">kurbo</a><button id="copy-path" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/kurbo/lib.rs.html#4-136">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>2D geometry, with a focus on curves.</p>
<p>The kurbo library contains data structures and algorithms for curves and
vector paths. It was designed to serve the needs of 2D graphics applications,
but it is intended to be general enough to be useful for other applications.</p>
<p>Kurbo is designed to be used by <a href="https://docs.rs/piet"><code>Piet</code></a>, a crate for drawing 2D graphics,
and is in turn used by <a href="https://docs.rs/druid"><code>Druid</code></a>, a cross-platform GUI toolkit.</p>
<h2 id="examples"><a href="#examples">Examples</a></h2>
<p>Basic UI-style geometry:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>kurbo::{Insets, Point, Rect, Size, Vec2};

<span class="kw">let </span>pt = Point::new(<span class="number">10.0</span>, <span class="number">10.0</span>);
<span class="kw">let </span>vector = Vec2::new(<span class="number">5.0</span>, -<span class="number">5.0</span>);
<span class="kw">let </span>pt2 = pt + vector;
<span class="macro">assert_eq!</span>(pt2, Point::new(<span class="number">15.0</span>, <span class="number">5.0</span>));

<span class="kw">let </span>rect = Rect::from_points(pt, pt2);
<span class="macro">assert_eq!</span>(rect, Rect::from_origin_size((<span class="number">10.0</span>, <span class="number">5.0</span>), (<span class="number">5.0</span>, <span class="number">5.0</span>)));

<span class="kw">let </span>insets = Insets::uniform(<span class="number">1.0</span>);
<span class="kw">let </span>inset_rect = rect - insets;
<span class="macro">assert_eq!</span>(inset_rect.size(), Size::new(<span class="number">3.0</span>, <span class="number">3.0</span>));</code></pre></div>
<p>Finding the closest position on a <a href="trait.Shape.html" title="trait kurbo::Shape"><code>Shape</code></a>’s perimeter to a <a href="struct.Point.html" title="struct kurbo::Point"><code>Point</code></a>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>kurbo::{Circle, ParamCurve, ParamCurveNearest, Point, Shape};

<span class="kw">const </span>DESIRED_ACCURACY: f64 = <span class="number">0.1</span>;

<span class="doccomment">/// Given a shape and a point, returns the closest position on the shape&#39;s
/// perimeter, or `None` if the shape is malformed.
</span><span class="kw">fn </span>closest_perimeter_point(shape: <span class="kw">impl </span>Shape, pt: Point) -&gt; <span class="prelude-ty">Option</span>&lt;Point&gt; {
    <span class="kw">let </span><span class="kw-2">mut </span>best: <span class="prelude-ty">Option</span>&lt;(Point, f64)&gt; = <span class="prelude-val">None</span>;
    <span class="kw">for </span>segment <span class="kw">in </span>shape.path_segments(DESIRED_ACCURACY) {
        <span class="kw">let </span>nearest = segment.nearest(pt, DESIRED_ACCURACY);
        <span class="kw">if </span>best.map(|(<span class="kw">_</span>, best_d)| nearest.distance_sq &lt; best_d).unwrap_or(<span class="bool-val">true</span>) {
            best = <span class="prelude-val">Some</span>((segment.eval(nearest.t), nearest.distance_sq))
        }
    }
    best.map(|(point, <span class="kw">_</span>)| point)
}

<span class="kw">let </span>circle = Circle::new((<span class="number">5.0</span>, <span class="number">5.0</span>), <span class="number">5.0</span>);
<span class="kw">let </span>hit_point = Point::new(<span class="number">5.0</span>, -<span class="number">2.0</span>);
<span class="kw">let </span>expectation = Point::new(<span class="number">5.0</span>, <span class="number">0.0</span>);
<span class="kw">let </span>hit = closest_perimeter_point(circle, hit_point).unwrap();
<span class="macro">assert!</span>(hit.distance(expectation) &lt;= DESIRED_ACCURACY);</code></pre></div>
<h2 id="features"><a href="#features">Features</a></h2>
<p>This crate either uses the standard library or the <a href="https://docs.rs/libm"><code>libm</code></a> crate for
math functionality. The <code>std</code> feature is enabled by default, but can be
disabled, as long as the <code>libm</code> feature is enabled. This is useful for
<code>no_std</code> environments. However, note that the <code>libm</code> crate is not as
efficient as the standard library, and that this crate still uses the
<code>alloc</code> crate regardless.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="common/index.html" title="mod kurbo::common">common</a></div><div class="desc docblock-short">Common mathematical operations</div></li><li><div class="item-name"><a class="mod" href="offset/index.html" title="mod kurbo::offset">offset</a></div><div class="desc docblock-short">Computation of offset curves of cubic Béziers, based on a curve fitting
approach.</div></li><li><div class="item-name"><a class="mod" href="simplify/index.html" title="mod kurbo::simplify">simplify</a></div><div class="desc docblock-short">Simplification of a Bézier path.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Affine.html" title="struct kurbo::Affine">Affine</a></div><div class="desc docblock-short">A 2D affine transform.</div></li><li><div class="item-name"><a class="struct" href="struct.Arc.html" title="struct kurbo::Arc">Arc</a></div><div class="desc docblock-short">A single arc segment.</div></li><li><div class="item-name"><a class="struct" href="struct.BezPath.html" title="struct kurbo::BezPath">BezPath</a></div><div class="desc docblock-short">A Bézier path.</div></li><li><div class="item-name"><a class="struct" href="struct.Circle.html" title="struct kurbo::Circle">Circle</a></div><div class="desc docblock-short">A circle.</div></li><li><div class="item-name"><a class="struct" href="struct.CircleSegment.html" title="struct kurbo::CircleSegment">CircleSegment</a></div><div class="desc docblock-short">A segment of a circle.</div></li><li><div class="item-name"><a class="struct" href="struct.ConstPoint.html" title="struct kurbo::ConstPoint">ConstPoint</a></div><div class="desc docblock-short">A trivial “curve” that is just a constant.</div></li><li><div class="item-name"><a class="struct" href="struct.CubicBez.html" title="struct kurbo::CubicBez">CubicBez</a></div><div class="desc docblock-short">A single cubic Bézier segment.</div></li><li><div class="item-name"><a class="struct" href="struct.CubicBezIter.html" title="struct kurbo::CubicBezIter">CubicBezIter</a></div><div class="desc docblock-short">An iterator for cubic beziers.</div></li><li><div class="item-name"><a class="struct" href="struct.CurveFitSample.html" title="struct kurbo::CurveFitSample">CurveFitSample</a></div><div class="desc docblock-short">A sample point of a curve for fitting.</div></li><li><div class="item-name"><a class="struct" href="struct.Ellipse.html" title="struct kurbo::Ellipse">Ellipse</a></div><div class="desc docblock-short">An ellipse.</div></li><li><div class="item-name"><a class="struct" href="struct.Insets.html" title="struct kurbo::Insets">Insets</a></div><div class="desc docblock-short">Insets from the edges of a rectangle.</div></li><li><div class="item-name"><a class="struct" href="struct.Line.html" title="struct kurbo::Line">Line</a></div><div class="desc docblock-short">A single line.</div></li><li><div class="item-name"><a class="struct" href="struct.LineIntersection.html" title="struct kurbo::LineIntersection">LineIntersection</a></div><div class="desc docblock-short">An intersection of a <a href="struct.Line.html" title="struct kurbo::Line"><code>Line</code></a> and a <a href="enum.PathSeg.html" title="enum kurbo::PathSeg"><code>PathSeg</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.MinDistance.html" title="struct kurbo::MinDistance">MinDistance</a></div><div class="desc docblock-short">The minimum distance between two Bézier curves.</div></li><li><div class="item-name"><a class="struct" href="struct.Nearest.html" title="struct kurbo::Nearest">Nearest</a></div><div class="desc docblock-short">The nearest position on a curve to some point.</div></li><li><div class="item-name"><a class="struct" href="struct.PathSegIter.html" title="struct kurbo::PathSegIter">PathSegIter</a></div><div class="desc docblock-short">An iterator for path segments.</div></li><li><div class="item-name"><a class="struct" href="struct.Point.html" title="struct kurbo::Point">Point</a></div><div class="desc docblock-short">A 2D point.</div></li><li><div class="item-name"><a class="struct" href="struct.QuadBez.html" title="struct kurbo::QuadBez">QuadBez</a></div><div class="desc docblock-short">A single quadratic Bézier segment.</div></li><li><div class="item-name"><a class="struct" href="struct.QuadBezIter.html" title="struct kurbo::QuadBezIter">QuadBezIter</a></div><div class="desc docblock-short">An iterator for quadratic beziers.</div></li><li><div class="item-name"><a class="struct" href="struct.QuadSpline.html" title="struct kurbo::QuadSpline">QuadSpline</a></div><div class="desc docblock-short">A quadratic Bézier spline in <a href="https://en.wikipedia.org/wiki/B-spline">B-spline</a> format.</div></li><li><div class="item-name"><a class="struct" href="struct.Rect.html" title="struct kurbo::Rect">Rect</a></div><div class="desc docblock-short">A rectangle.</div></li><li><div class="item-name"><a class="struct" href="struct.RoundedRect.html" title="struct kurbo::RoundedRect">RoundedRect</a></div><div class="desc docblock-short">A rectangle with equally rounded corners.</div></li><li><div class="item-name"><a class="struct" href="struct.RoundedRectRadii.html" title="struct kurbo::RoundedRectRadii">RoundedRectRadii</a></div><div class="desc docblock-short">Radii for each corner of a rounded rectangle.</div></li><li><div class="item-name"><a class="struct" href="struct.Segments.html" title="struct kurbo::Segments">Segments</a></div><div class="desc docblock-short">An iterator that transforms path elements to path segments.</div></li><li><div class="item-name"><a class="struct" href="struct.Size.html" title="struct kurbo::Size">Size</a></div><div class="desc docblock-short">A 2D size.</div></li><li><div class="item-name"><a class="struct" href="struct.SvgArc.html" title="struct kurbo::SvgArc">SvgArc</a></div><div class="desc docblock-short">A single SVG arc segment.</div></li><li><div class="item-name"><a class="struct" href="struct.TranslateScale.html" title="struct kurbo::TranslateScale">TranslateScale</a></div><div class="desc docblock-short">A transformation including scaling and translation.</div></li><li><div class="item-name"><a class="struct" href="struct.Vec2.html" title="struct kurbo::Vec2">Vec2</a></div><div class="desc docblock-short">A 2D vector.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.PathEl.html" title="enum kurbo::PathEl">PathEl</a></div><div class="desc docblock-short">The element of a Bézier path.</div></li><li><div class="item-name"><a class="enum" href="enum.PathSeg.html" title="enum kurbo::PathSeg">PathSeg</a></div><div class="desc docblock-short">A segment of a Bézier path.</div></li><li><div class="item-name"><a class="enum" href="enum.SvgParseError.html" title="enum kurbo::SvgParseError">SvgParseError</a></div><div class="desc docblock-short">An error which can be returned when parsing an SVG.</div></li></ul><h2 id="constants" class="small-section-header"><a href="#constants">Constants</a></h2><ul class="item-table"><li><div class="item-name"><a class="constant" href="constant.DEFAULT_ACCURACY.html" title="constant kurbo::DEFAULT_ACCURACY">DEFAULT_ACCURACY</a></div><div class="desc docblock-short">A default value for methods that take an ‘accuracy’ argument.</div></li><li><div class="item-name"><a class="constant" href="constant.MAX_EXTREMA.html" title="constant kurbo::MAX_EXTREMA">MAX_EXTREMA</a></div><div class="desc docblock-short">The maximum number of extrema that can be reported in the <code>ParamCurveExtrema</code> trait.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ParamCurve.html" title="trait kurbo::ParamCurve">ParamCurve</a></div><div class="desc docblock-short">A curve parametrized by a scalar.</div></li><li><div class="item-name"><a class="trait" href="trait.ParamCurveArclen.html" title="trait kurbo::ParamCurveArclen">ParamCurveArclen</a></div><div class="desc docblock-short">A parametrized curve that can have its arc length measured.</div></li><li><div class="item-name"><a class="trait" href="trait.ParamCurveArea.html" title="trait kurbo::ParamCurveArea">ParamCurveArea</a></div><div class="desc docblock-short">A parametrized curve that can have its signed area measured.</div></li><li><div class="item-name"><a class="trait" href="trait.ParamCurveCurvature.html" title="trait kurbo::ParamCurveCurvature">ParamCurveCurvature</a></div><div class="desc docblock-short">A parametrized curve that reports its curvature.</div></li><li><div class="item-name"><a class="trait" href="trait.ParamCurveDeriv.html" title="trait kurbo::ParamCurveDeriv">ParamCurveDeriv</a></div><div class="desc docblock-short">A differentiable parametrized curve.</div></li><li><div class="item-name"><a class="trait" href="trait.ParamCurveExtrema.html" title="trait kurbo::ParamCurveExtrema">ParamCurveExtrema</a></div><div class="desc docblock-short">A parametrized curve that reports its extrema.</div></li><li><div class="item-name"><a class="trait" href="trait.ParamCurveFit.html" title="trait kurbo::ParamCurveFit">ParamCurveFit</a></div><div class="desc docblock-short">The source curve for curve fitting.</div></li><li><div class="item-name"><a class="trait" href="trait.ParamCurveNearest.html" title="trait kurbo::ParamCurveNearest">ParamCurveNearest</a></div><div class="desc docblock-short">A parametrized curve that reports the nearest point.</div></li><li><div class="item-name"><a class="trait" href="trait.Shape.html" title="trait kurbo::Shape">Shape</a></div><div class="desc docblock-short">A generic trait for open and closed shapes.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.cubics_to_quadratic_splines.html" title="fn kurbo::cubics_to_quadratic_splines">cubics_to_quadratic_splines</a></div><div class="desc docblock-short">Convert multiple cubic Bézier curves to quadratic splines.</div></li><li><div class="item-name"><a class="fn" href="fn.fit_to_bezpath.html" title="fn kurbo::fit_to_bezpath">fit_to_bezpath</a></div><div class="desc docblock-short">Generate a Bézier path that fits the source curve.</div></li><li><div class="item-name"><a class="fn" href="fn.fit_to_bezpath_opt.html" title="fn kurbo::fit_to_bezpath_opt">fit_to_bezpath_opt</a></div><div class="desc docblock-short">Generate a highly optimized Bézier path that fits the source curve.</div></li><li><div class="item-name"><a class="fn" href="fn.fit_to_cubic.html" title="fn kurbo::fit_to_cubic">fit_to_cubic</a></div><div class="desc docblock-short">Fit a single cubic to a range of the source curve.</div></li><li><div class="item-name"><a class="fn" href="fn.flatten.html" title="fn kurbo::flatten">flatten</a></div><div class="desc docblock-short">Flatten the path, invoking the callback repeatedly.</div></li><li><div class="item-name"><a class="fn" href="fn.segments.html" title="fn kurbo::segments">segments</a></div><div class="desc docblock-short">Transform an iterator over path elements into one over path
segments.</div></li></ul></section></div></main></body></html>