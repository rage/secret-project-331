#!/bin/bash
set -euo pipefail

COMMAND="cargo"
ARGUMENTS=(sqlx prepare --check -- --bin headless-lms-actix)

BASEDIR=$(dirname "$(dirname "${BASH_SOURCE[0]}")")
echo "> cd $BASEDIR"
cd "$BASEDIR" || exit
echo "> $COMMAND" "$(printf "%q " "${ARGUMENTS[@]}")"
exec "$COMMAND" "${ARGUMENTS[@]}"
