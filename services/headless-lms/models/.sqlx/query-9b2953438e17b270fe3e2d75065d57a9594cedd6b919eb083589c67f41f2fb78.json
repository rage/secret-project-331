{
  "db_name": "PostgreSQL",
  "query": "\n    SELECT\n        umc.id,\n        umc.course_id,\n        umc.course_language_groups_id,\n        umc.user_id,\n        umc.consent,\n        umc.created_at,\n        umc.updated_at,\n        umc.deleted_at,\n        umc.synced_to_mailchimp_at,\n        u.first_name AS first_name,\n        u.last_name AS last_name,\n        u.email AS email,\n        c.name AS course_name\n    FROM user_marketing_consents AS umc\n    JOIN user_details AS u ON u.user_id = umc.user_id\n    JOIN courses AS c ON c.id = umc.course_id\n    WHERE umc.course_language_groups_id = $1\n    AND (umc.synced_to_mailchimp_at IS NULL\n            OR umc.synced_to_mailchimp_at < umc.updated_at\n            OR umc.synced_to_mailchimp_at < u.updated_at)\n    ",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 1,
        "name": "course_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 2,
        "name": "course_language_groups_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 3,
        "name": "user_id",
        "type_info": "Uuid"
      },
      {
        "ordinal": 4,
        "name": "consent",
        "type_info": "Bool"
      },
      {
        "ordinal": 5,
        "name": "created_at",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 6,
        "name": "updated_at",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 7,
        "name": "deleted_at",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 8,
        "name": "synced_to_mailchimp_at",
        "type_info": "Timestamptz"
      },
      {
        "ordinal": 9,
        "name": "first_name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 10,
        "name": "last_name",
        "type_info": "Varchar"
      },
      {
        "ordinal": 11,
        "name": "email",
        "type_info": "Varchar"
      },
      {
        "ordinal": 12,
        "name": "course_name",
        "type_info": "Varchar"
      }
    ],
    "parameters": {
      "Left": ["Uuid"]
    },
    "nullable": [
      false,
      false,
      false,
      false,
      false,
      false,
      false,
      true,
      true,
      true,
      true,
      false,
      false
    ]
  },
  "hash": "9b2953438e17b270fe3e2d75065d57a9594cedd6b919eb083589c67f41f2fb78"
}
