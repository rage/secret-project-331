{
  "db_name": "PostgreSQL",
  "query": "\nINSERT INTO user_chapter_locking_statuses (user_id, chapter_id, course_id, status, deleted_at)\nSELECT $1, chapters.id, $2, 'not_unlocked_yet'::chapter_locking_status, NULL\nFROM chapters\nWHERE chapters.course_id = $2\n  AND chapters.deleted_at IS NULL\n  AND NOT EXISTS (\n    SELECT 1\n    FROM user_chapter_locking_statuses\n    WHERE user_chapter_locking_statuses.user_id = $1\n      AND user_chapter_locking_statuses.chapter_id = chapters.id\n      AND user_chapter_locking_statuses.deleted_at IS NULL\n  )\nON CONFLICT (user_id, chapter_id, deleted_at) DO NOTHING\n            ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "Uuid"
      ]
    },
    "nullable": []
  },
  "hash": "e700e69380328c19b8f90f53e2ed3eed114ebda1da3824be7fb90f61b2ef17b1"
}
