{
  "db": "PostgreSQL",
  "00f3f7096674aa5bc7faeebac5406f9259a72172cb63f1cd415da4519c783fe7": {
    "query": "\nUPDATE chapters SET front_page_id = $1 WHERE id = $2 RETURNING *\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "chapter_number",
          "type_info": "Int4"
        },
        {
          "ordinal": 4,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "front_page_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Uuid"]
      },
      "nullable": [false, false, false, false, false, false, true, true]
    }
  },
  "02ff83f40b183e7295450f84a7327cf545fa5f357451097c7afb35db5a4b6f2a": {
    "query": "\nSELECT counts.*, exercises.name exercise_name\n    FROM (\n        SELECT exercise_id, count(*)::integer count\n        FROM submissions\n        WHERE course_id = $1\n        GROUP BY exercise_id\n    ) counts\n    JOIN exercises ON (counts.exercise_id = exercises.id);\n          ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "count",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "exercise_name",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [true, true, true]
    }
  },
  "031debbf29a4fcdab5b81276f6323a36382c51fe794009200af1f929d3874654": {
    "query": "\n    SELECT id from exercises WHERE page_id = $1\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "07ff6c440bb184c682c8095f73537a51399aff014e77485afa80dcde0268607f": {
    "query": "\nUPDATE chapters SET front_page_id = $1 WHERE id = $2\n        ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": ["Uuid", "Uuid"]
      },
      "nullable": []
    }
  },
  "1354fbf47a4a0f22b9b9f30143dd425b05aef41d55a178bc39eb1eb4140a6e0c": {
    "query": "\nUPDATE course_instances\nSET variant_status = $1\nWHERE id = $2;\n",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          {
            "Custom": {
              "name": "variant_status",
              "kind": {
                "Enum": ["draft", "upcoming", "active", "ended"]
              }
            }
          },
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "154577d6eb687de28cba5811dbfeb0660cfc10e838577fe8a94c3b7dc6cc41e9": {
    "query": "SELECT course_id FROM exercises WHERE id = (SELECT exercise_id FROM exercise_tasks WHERE id = $1)",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "course_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "17ac831ff424d02bd7609c76c190768ef00265bf144ab61459e11f1b7179b660": {
    "query": "SELECT * FROM organizations WHERE deleted_at IS NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "slug",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [false, false, false, false, true, false]
    }
  },
  "1d480cfbf4a9dc142a798a9bacd391dd6c8c98df5c694697eee44162cbb2c95b": {
    "query": "SELECT COUNT(*) as count FROM submissions WHERE exercise_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "count",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [null]
    }
  },
  "1daa6a64b96d07871fcd53657c9b31c9901c13391c1a83ad214e8365d8fcd00c": {
    "query": "SELECT course_id FROM exercises WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "course_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "216274644eb91791c11037c6ce36bed38f64b1e3be53585ddce293db048a3513": {
    "query": "\nUPDATE pages\nSET\n    content = $2,\n    url_path = $3,\n    title = $4,\n    chapter_id = $5\nWHERE id = $1\nRETURNING *\n            ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Jsonb", "Varchar", "Varchar", "Uuid"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "2395ca73bcdd330e31c0d42fdf6ec062602d06d67ce40ffcf1b71fd90982b2f7": {
    "query": "\n  INSERT INTO\n    submissions(exercise_task_id, data_json, exercise_id, course_id, user_id, course_instance_id)\n  VALUES($1, $2, $3, $4, $5, $6)\n  RETURNING *\n          ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "exercise_task_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "data_json",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 8,
          "name": "grading_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "metadata",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 10,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "course_instance_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Jsonb", "Uuid", "Uuid", "Uuid", "Uuid"]
      },
      "nullable": [false, false, false, true, false, false, false, true, true, true, false, false]
    }
  },
  "2435b3f81b4db4a7dcc1a040f0f69d0e804f1ed1d5ef53b1306d64e40f23d019": {
    "query": "\nSELECT *\nFROM pages\nWHERE chapter_id = $1\n  AND deleted_at IS NULL\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "28d85f709ff96819aec1e135cef78a3f2674c747c3b1140c7857c85f5facff56": {
    "query": "\n    INSERT INTO\n      chapters(name, course_id, chapter_number)\n    VALUES($1, $2, $3)\n    RETURNING *\n            ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "chapter_number",
          "type_info": "Int4"
        },
        {
          "ordinal": 4,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "front_page_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Varchar", "Uuid", "Int4"]
      },
      "nullable": [false, false, false, false, false, false, true, true]
    }
  },
  "3112b033a77d157f59f47880f2e44143c4cf49017c96939a4b1b01622b8ae788": {
    "query": "\n  INSERT INTO\n    pages(course_id, content, url_path, title, order_number, chapter_id)\n  VALUES($1, $2, $3, $4, $5, $6)\n  RETURNING *\n          ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Jsonb", "Varchar", "Varchar", "Int4", "Uuid"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "36578c1a1be112ab9d9f49eea1c69240309c9bf83e6a4b98237e687d1fa04b92": {
    "query": "SELECT course_id FROM pages WHERE id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "course_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "375b467ba026680d07ba6fa844de91afd942e86b2715431e41b6788df0d2b3c0": {
    "query": "SELECT * FROM users WHERE upstream_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "upstream_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Int4"]
      },
      "nullable": [false, false, false, true, true]
    }
  },
  "3fe37166761219fc5d832aff78c2ae81f963c9b1fa42ac8519e80bc436c54200": {
    "query": "SELECT * FROM pages WHERE course_id = $1 AND deleted_at IS NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "41272f15882f442930b5c33a7986dc39f59c1f1d249951752eb813d02aefa541": {
    "query": "SELECT id, exercise_id, exercise_type, assignment, public_spec FROM exercise_tasks WHERE exercise_id = $1 AND deleted_at IS NULL ORDER BY random();",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "exercise_type",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "assignment",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 4,
          "name": "public_spec",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, true]
    }
  },
  "45a3380b45f6c12e86e8ed31d0e2c7490f2487c08d6cedc711cecabc0fbf6af7": {
    "query": "\nUPDATE courses\n    SET deleted_at = now()\nWHERE\n    id = $1\nRETURNING *\n    ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "organization_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "slug",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, true, false]
    }
  },
  "4bcf93034b7f1e2a30d12f895c2e8c394094dd5b057cbbd89a5715ad9518ef9d": {
    "query": "\n  UPDATE exercises\n  SET deleted_at = now()\n  WHERE page_id = $1\n          ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": []
    }
  },
  "56d846875a3a880da4819cf18d0137b9e305a95a81c54dc62a89a45829fcb38c": {
    "query": "\nINSERT INTO\n  gradings(submission_id, course_id, exercise_id, exercise_task_id, grading_started_at)\nVALUES($1, $2, $3, $4, now())\nRETURNING id, created_at, updated_at, submission_id, course_id, exercise_id, exercise_task_id, grading_priority, score_given, grading_progress as \"grading_progress: _\", user_points_update_strategy as \"user_points_update_strategy: _\", unscaled_score_maximum, unscaled_max_points, grading_started_at, grading_completed_at, feedback_json, feedback_text, deleted_at\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "submission_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "exercise_task_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "grading_priority",
          "type_info": "Int4"
        },
        {
          "ordinal": 8,
          "name": "score_given",
          "type_info": "Float4"
        },
        {
          "ordinal": 9,
          "name": "grading_progress: _",
          "type_info": {
            "Custom": {
              "name": "grading_progress",
              "kind": {
                "Enum": ["fully-graded", "pending", "pending-manual", "failed", "not-ready"]
              }
            }
          }
        },
        {
          "ordinal": 10,
          "name": "user_points_update_strategy: _",
          "type_info": {
            "Custom": {
              "name": "user_points_update_strategy",
              "kind": {
                "Enum": [
                  "can-add-points-but-cannot-remove-points",
                  "can-add-points-and-can-remove-points"
                ]
              }
            }
          }
        },
        {
          "ordinal": 11,
          "name": "unscaled_score_maximum",
          "type_info": "Float4"
        },
        {
          "ordinal": 12,
          "name": "unscaled_max_points",
          "type_info": "Int4"
        },
        {
          "ordinal": 13,
          "name": "grading_started_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 14,
          "name": "grading_completed_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 15,
          "name": "feedback_json",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 16,
          "name": "feedback_text",
          "type_info": "Text"
        },
        {
          "ordinal": 17,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Uuid", "Uuid", "Uuid"]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        true,
        true
      ]
    }
  },
  "5c55b14104bfdc1b23bb335ce5a747f7d9bba291bfa8ffd6abf84decd936040b": {
    "query": "\n    INSERT INTO\n      courses(name, slug, organization_id)\n    VALUES($1, $2, $3)\n    RETURNING *\n            ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "organization_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "slug",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": ["Varchar", "Varchar", "Uuid"]
      },
      "nullable": [false, false, false, false, false, true, false]
    }
  },
  "5dab5d2b5b6c50c979d750577afcaad172f3292daeba48bfe0ac1c208351b414": {
    "query": "SELECT * FROM pages WHERE chapter_id = $1 AND deleted_at IS NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "6452399d7421bdd1ea2cc99b432783f3aa24444c1e1dfbd51d76d33869584073": {
    "query": "\n  UPDATE exercise_tasks\n  SET deleted_at = now()\n  WHERE exercise_id IN (SELECT id FROM exercises WHERE page_id = $1)\n          ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": []
    }
  },
  "680c5eed3c49d67d404af7d0a2df7dc8f9391db14848e8aff877a8a117335be2": {
    "query": "SELECT * FROM exercises WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "deadline",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "page_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "score_maximum",
          "type_info": "Int4"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, true, false, true, false, false, false]
    }
  },
  "6db193b0026add4654a016e9cafa1d14df780aa3d1e541a1f21de213171a9bdd": {
    "query": "\nSELECT selected_exercise_task_id AS \"id!\"\nFROM user_exercise_states\nWHERE user_id = $1\nAND exercise_id = $2\nAND course_instance_id = $3\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id!",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Uuid", "Uuid"]
      },
      "nullable": [true]
    }
  },
  "766a0d121d9fae40d872a1b4a5756610cdefb07f81fbfa11e4f112d11e9b2702": {
    "query": "\nSELECT\n    id, variant_status as \"variant_status: VariantStatus\", starts_at, ends_at\nFROM course_instances\nWHERE deleted_at IS NOT NULL;\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "variant_status: VariantStatus",
          "type_info": {
            "Custom": {
              "name": "variant_status",
              "kind": {
                "Enum": ["draft", "upcoming", "active", "ended"]
              }
            }
          }
        },
        {
          "ordinal": 2,
          "name": "starts_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "ends_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [false, false, true, true]
    }
  },
  "77589f5977cb1abcf08674c88fcc060ccb0be732fde86e1fd3b4b21c6de86565": {
    "query": "SELECT organization_id, course_id, role AS \"role: UserRole\" FROM roles WHERE user_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "organization_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "role: UserRole",
          "type_info": {
            "Custom": {
              "name": "user_role",
              "kind": {
                "Enum": ["admin", "assistant", "teacher", "reviewer"]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [true, true, false]
    }
  },
  "785c6a12aad375df96e3ce5dee4b20fde25e67ec826c645019a03222a07c2aa9": {
    "query": "\nSELECT DATE(created_at) date, count(*)::integer\nFROM submissions\nWHERE course_id = $1\nGROUP BY date\nORDER BY date;\n          ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "date",
          "type_info": "Date"
        },
        {
          "ordinal": 1,
          "name": "count",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [null, null]
    }
  },
  "80687e3c73c81c8048da59d2839fee7d0b79afe50d7289b4395cd8ec57c4c8d6": {
    "query": "SELECT * FROM pages WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "8325e1b18c07ff6234f3328ccdedce0f62d782501e98ee4598d473453836ff59": {
    "query": "SELECT * FROM courses WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "organization_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "slug",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, true, false]
    }
  },
  "86a8fa9857c9a237b24dc8385ff04f259a1ee04fe343b0dd0072946a3340762f": {
    "query": "\nINSERT INTO user_exercise_states (user_id, exercise_id, course_instance_id)\nVALUES ($1, $2, $3)\nON CONFLICT (user_id, exercise_id, course_instance_id) DO NOTHING\nRETURNING user_id,\n  exercise_id,\n  course_instance_id,\n  created_at,\n  updated_at,\n  deleted_at,\n  score_given,\n  grading_progress as \"grading_progress: _\",\n  activity_progress as \"activity_progress: _\";\n  ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "course_instance_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "score_given",
          "type_info": "Float4"
        },
        {
          "ordinal": 7,
          "name": "grading_progress: _",
          "type_info": {
            "Custom": {
              "name": "grading_progress",
              "kind": {
                "Enum": ["fully-graded", "pending", "pending-manual", "failed", "not-ready"]
              }
            }
          }
        },
        {
          "ordinal": 8,
          "name": "activity_progress: _",
          "type_info": {
            "Custom": {
              "name": "activity_progress",
              "kind": {
                "Enum": ["initialized", "started", "in-progress", "submitted", "completed"]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Uuid", "Uuid"]
      },
      "nullable": [false, false, false, false, false, true, true, false, false]
    }
  },
  "88890869dabe25130451185ec231260f8cdc6121649923e7209346dded7d0014": {
    "query": "SELECT organization_id FROM courses WHERE id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "organization_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "8c1504ed0360e29b32edb01377c2e75d8d4654a2ed5b2c1ff57ca0be5f911eb9": {
    "query": "\nUPDATE user_exercise_states\nSET selected_exercise_task_id = $1\nWHERE user_id = $2\n  AND exercise_id = $3\n  AND course_instance_id = $4\n",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": ["Uuid", "Uuid", "Uuid", "Uuid"]
      },
      "nullable": []
    }
  },
  "95dd409bd722442fe75d3b3aba428f811687752e1df10dc30ad7a1ce0250e76d": {
    "query": "\nUPDATE user_exercise_states\nSET score_given = $4, grading_progress = $5, activity_progress = $6\nWHERE user_id = $1\nAND exercise_id = $2\nAND course_instance_id = $3\nRETURNING user_id,\n  exercise_id,\n  course_instance_id,\n  created_at,\n  updated_at,\n  deleted_at,\n  score_given,\n  grading_progress as \"grading_progress: _\",\n  activity_progress as \"activity_progress: _\"\n    ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "course_instance_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "score_given",
          "type_info": "Float4"
        },
        {
          "ordinal": 7,
          "name": "grading_progress: _",
          "type_info": {
            "Custom": {
              "name": "grading_progress",
              "kind": {
                "Enum": ["fully-graded", "pending", "pending-manual", "failed", "not-ready"]
              }
            }
          }
        },
        {
          "ordinal": 8,
          "name": "activity_progress: _",
          "type_info": {
            "Custom": {
              "name": "activity_progress",
              "kind": {
                "Enum": ["initialized", "started", "in-progress", "submitted", "completed"]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Uuid",
          "Float4",
          {
            "Custom": {
              "name": "grading_progress",
              "kind": {
                "Enum": ["fully-graded", "pending", "pending-manual", "failed", "not-ready"]
              }
            }
          },
          {
            "Custom": {
              "name": "activity_progress",
              "kind": {
                "Enum": ["initialized", "started", "in-progress", "submitted", "completed"]
              }
            }
          }
        ]
      },
      "nullable": [false, false, false, false, false, true, true, false, false]
    }
  },
  "9c6243474cc02c99f6974e143c88dde690c982125071ddc69df713350de1f875": {
    "query": "SELECT * FROM exercise_tasks WHERE id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "exercise_type",
          "type_info": "Varchar"
        },
        {
          "ordinal": 5,
          "name": "assignment",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 6,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "private_spec",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 8,
          "name": "spec_file_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "public_spec",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, true, true, true, true]
    }
  },
  "9c85b99d223ec35dd6a3d00598117fba6db802ec315cd2d1c38012b577d270bb": {
    "query": "\nSELECT *\nFROM exercises\nWHERE page_id IN (\n    SELECT UNNEST($1::uuid [])\n  )\n  AND deleted_at IS NULL\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "deadline",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "page_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "score_maximum",
          "type_info": "Int4"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["UuidArray"]
      },
      "nullable": [false, false, false, false, true, false, true, false, false, false]
    }
  },
  "a9e2fc40cc3a0a3e0bb5910ea9a354f91a3717e602eb8648fe8fd34a7da9bf44": {
    "query": "\nUPDATE chapters\n    SET name = $1,\n    chapter_number = $2\nWHERE\n    id = $3\n    RETURNING *\n    ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "chapter_number",
          "type_info": "Int4"
        },
        {
          "ordinal": 4,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "front_page_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Varchar", "Int4", "Uuid"]
      },
      "nullable": [false, false, false, false, false, false, true, true]
    }
  },
  "aa8073a0f2788eba303868988a8f5e04f6b15f456d0e13d640e2e365c2f3fc5e": {
    "query": "\n    SELECT exercise_tasks.id from exercise_tasks JOIN exercises e ON (e.id = exercise_tasks.exercise_id) WHERE page_id = $1\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "aacdef2e863b8bccca736bbb23962375df020de373e83c5f907afd83e1167327": {
    "query": "SELECT * FROM submissions WHERE exercise_id = $1 LIMIT $2 OFFSET $3;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "exercise_task_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "data_json",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 8,
          "name": "grading_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "metadata",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 10,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "course_instance_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Int8", "Int8"]
      },
      "nullable": [false, false, false, true, false, false, false, true, true, true, false, false]
    }
  },
  "b01cf38acb69872577027c3975b8cecc8247585a7fdbc5b35f526bf5b2a490e2": {
    "query": "\nINSERT INTO\n  users (id, upstream_id)\nVALUES($1, $2)\nON CONFLICT(id) DO NOTHING\nRETURNING *;\n          ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "upstream_id",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Int4"]
      },
      "nullable": [false, false, false, true, true]
    }
  },
  "b0302cd73ce7a9f3d86d798a9a6c8ae768a0722bfeef08cd89c8716b36bce665": {
    "query": "SELECT course_id FROM submissions WHERE id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "course_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "b7c1d6419ba5258f9768f21c871f7e20ec929aeb83445e8a09a5cbd4e9425def": {
    "query": "SELECT * FROM courses WHERE deleted_at IS NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "organization_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "slug",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [false, false, false, false, false, true, false]
    }
  },
  "b82cda6067380bd962723fadccb8f0e89e14738af59c2ee4972e7e0d900d96c2": {
    "query": "\nINSERT INTO exercise_tasks(id, exercise_id, exercise_type, assignment, public_spec, private_spec)\nVALUES ($1, $2, $3, $4, $5, $6)\nON CONFLICT (id) DO UPDATE\nSET exercise_id=$2, exercise_type=$3, assignment=$4, public_spec=$5, private_spec=$6, deleted_at=NULL\nRETURNING id, exercise_type, assignment, public_spec, private_spec;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "exercise_type",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "assignment",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 3,
          "name": "public_spec",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 4,
          "name": "private_spec",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Uuid", "Varchar", "Jsonb", "Jsonb", "Jsonb"]
      },
      "nullable": [false, false, false, true, true]
    }
  },
  "c1908e69ccbe1ec11a22f88ec34da84b934b07915a2c659cdbf16a24d2c5f611": {
    "query": "SELECT * FROM chapters WHERE course_id = $1 AND deleted_at IS NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "chapter_number",
          "type_info": "Int4"
        },
        {
          "ordinal": 4,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "front_page_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, true, true]
    }
  },
  "c1a41f61331e83562da62a9ec828d2489eedd1f6e03b6fb8865faa71ddec8f27": {
    "query": "SELECT * FROM courses WHERE organization_id = $1 AND deleted_at IS NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "organization_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "slug",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, true, false]
    }
  },
  "c8c5264811bce45733628caa8a1e90a07e2d16cbb5ad6ce0cd35f3e1e1921a4e": {
    "query": "\nSELECT date_part('isodow', created_at)::integer isodow, date_part('hour', created_at)::integer \"hour\", count(*)::integer\nFROM submissions\nWHERE course_id = $1\nGROUP BY isodow, \"hour\"\nORDER BY isodow, hour;\n          ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "isodow",
          "type_info": "Int4"
        },
        {
          "ordinal": 1,
          "name": "hour",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "count",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [null, null, null]
    }
  },
  "cd77e9c666eedf778257a2adede300821c26ef4b6f8fb0011eea940fd3fe2a6b": {
    "query": "\n  UPDATE pages\n  SET\n    deleted_at = now()\n  WHERE id = $1\n  RETURNING *\n          ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "d5305aa4ee1aefda2f427281711994f0cfb9308f018f02a1c30344b6a125f3a3": {
    "query": "\nUPDATE gradings\n  SET\n    grading_progress = $2,\n    unscaled_score_maximum = $3,\n    unscaled_max_points = $4,\n    feedback_text = $5,\n    feedback_json = $6,\n    grading_completed_at = $7,\n    score_given = $8\nWHERE id = $1\nRETURNING id, created_at, updated_at, submission_id, course_id, exercise_id, exercise_task_id, grading_priority, score_given, grading_progress as \"grading_progress: _\", user_points_update_strategy as \"user_points_update_strategy: _\", unscaled_score_maximum, unscaled_max_points, grading_started_at, grading_completed_at, feedback_json, feedback_text, deleted_at\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "submission_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "exercise_task_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "grading_priority",
          "type_info": "Int4"
        },
        {
          "ordinal": 8,
          "name": "score_given",
          "type_info": "Float4"
        },
        {
          "ordinal": 9,
          "name": "grading_progress: _",
          "type_info": {
            "Custom": {
              "name": "grading_progress",
              "kind": {
                "Enum": ["fully-graded", "pending", "pending-manual", "failed", "not-ready"]
              }
            }
          }
        },
        {
          "ordinal": 10,
          "name": "user_points_update_strategy: _",
          "type_info": {
            "Custom": {
              "name": "user_points_update_strategy",
              "kind": {
                "Enum": [
                  "can-add-points-but-cannot-remove-points",
                  "can-add-points-and-can-remove-points"
                ]
              }
            }
          }
        },
        {
          "ordinal": 11,
          "name": "unscaled_score_maximum",
          "type_info": "Float4"
        },
        {
          "ordinal": 12,
          "name": "unscaled_max_points",
          "type_info": "Int4"
        },
        {
          "ordinal": 13,
          "name": "grading_started_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 14,
          "name": "grading_completed_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 15,
          "name": "feedback_json",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 16,
          "name": "feedback_text",
          "type_info": "Text"
        },
        {
          "ordinal": 17,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          {
            "Custom": {
              "name": "grading_progress",
              "kind": {
                "Enum": ["fully-graded", "pending", "pending-manual", "failed", "not-ready"]
              }
            }
          },
          "Float4",
          "Int4",
          "Text",
          "Jsonb",
          "Timestamptz",
          "Float4"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        true,
        false,
        false,
        true,
        true,
        true,
        true,
        true,
        true,
        true
      ]
    }
  },
  "d61f2a6b8fb2f4cfaf52c3c6d740d6fc8ff60cb2fe9528c318715c40e769471d": {
    "query": "UPDATE submissions SET grading_id = $1 WHERE id = $2 RETURNING *",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 6,
          "name": "exercise_task_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "data_json",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 8,
          "name": "grading_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "metadata",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 10,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 11,
          "name": "course_instance_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Uuid"]
      },
      "nullable": [false, false, false, true, false, false, false, true, true, true, false, false]
    }
  },
  "d741c2e76aa58f5fe945e4a96f0f598d29b7fd6e2552b3afdc183ec445938c40": {
    "query": "SELECT course_id from gradings where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "course_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "da896f936aafd16dba8e38e8e97b7907310051fa453acf242dccab1776995e48": {
    "query": "SELECT pages.* FROM pages\n        JOIN courses ON (pages.course_id = courses.id)\n        WHERE courses.slug = $1\n        AND url_path = $2\n        AND courses.deleted_at IS NULL\n        AND pages.deleted_at IS NULL;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "content",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 7,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 8,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Text", "Text"]
      },
      "nullable": [false, false, false, false, false, false, false, true, true, false]
    }
  },
  "dd30673a92bd0ce4545828b430cc0acc9e74943f1d40398a9bbf20ee0ef7ab03": {
    "query": "\nSELECT course_instance_id AS id\nFROM course_instance_enrollments\nWHERE course_id = $1\n  AND current = TRUE\n  AND deleted_at IS NULL\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "de76984bac431ab8e341d3ffe8d0c90658c9950c0933d2632976a2c8567a620c": {
    "query": "\n        UPDATE exercises SET deleted_at = now() WHERE page_id = $1\n            ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": []
    }
  },
  "e16771ee038e235b7e5a5abe6d0ff76f08b7ab9a5fc671665ad3f111c2f0585d": {
    "query": "\nSELECT id,\n  exercise_id,\n  exercise_type,\n  assignment,\n  public_spec\nFROM exercise_tasks\nWHERE id = $1\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "exercise_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "exercise_type",
          "type_info": "Varchar"
        },
        {
          "ordinal": 3,
          "name": "assignment",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 4,
          "name": "public_spec",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, true]
    }
  },
  "e2fe96906db5d05fa1a8b0aabc25e9027c386b349f11d4c26bcf7db1864af6cf": {
    "query": "\nselect max(p.order_number) as order_number\nfrom pages p\nwhere p.chapter_id = $1\n  and p.deleted_at is null;\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [null]
    }
  },
  "e7a109e7681d15ca3414e94e7a5c2691dc20f6eb7a8ee1c8ffa9b181591f7756": {
    "query": "\nSELECT p.url_path,\n  p.title,\n  c.chapter_number\nFROM chapters c\n  LEFT JOIN pages p on c.id = p.chapter_id\nWHERE chapter_number = (\n    SELECT MIN(chapter_number)\n    FROM chapters\n    WHERE chapter_number > $1\n      AND deleted_at IS NULL\n  );\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "chapter_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Int4"]
      },
      "nullable": [false, false, true]
    }
  },
  "eac8dc243eab5523b735c1760b19645ac836e6afe07ca5cda115989031c02d36": {
    "query": "\nSELECT p.id as page_id,\n  p.order_number as order_number,\n  c.id as chapter_id,\n  c.chapter_number as chapter_number\nFROM pages p\n  LEFT JOIN chapters c ON p.chapter_id = c.id\nWHERE p.id = $1;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "page_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "order_number",
          "type_info": "Int4"
        },
        {
          "ordinal": 2,
          "name": "chapter_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "chapter_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false]
    }
  },
  "eb1eeea17ea1b5dd169f8db54cd61c8e77627ffc4c82a40705e454c7148f54a3": {
    "query": "UPDATE pages SET content = $1 WHERE id = $2;",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": ["Jsonb", "Uuid"]
      },
      "nullable": []
    }
  },
  "ec15fdd7bb434136549917987c09b4c856ef755fc49a3af4ee19bd81bd705f11": {
    "query": "SELECT id, exercise_type, assignment, public_spec, private_spec, exercise_id FROM exercise_tasks WHERE exercise_id IN (SELECT id FROM exercises WHERE page_id = $1);",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "exercise_type",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "assignment",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 3,
          "name": "public_spec",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 4,
          "name": "private_spec",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 5,
          "name": "exercise_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, true, true, false]
    }
  },
  "f3f1159398504ef221c840898a788f385016d15f3e9aa661468776314f3bbd46": {
    "query": "\nUPDATE chapters\n    SET deleted_at = now()\nWHERE\n    id = $1\nRETURNING *\n    ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "chapter_number",
          "type_info": "Int4"
        },
        {
          "ordinal": 4,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "front_page_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, false, false, true, true]
    }
  },
  "f5021b2234666978c47226d099346da7f0eaaa920874cbccff14bfd79c2282a9": {
    "query": "\nUPDATE courses\n    SET name = $1\nWHERE\n    id = $2\n    RETURNING *\n    ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 4,
          "name": "organization_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 5,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 6,
          "name": "slug",
          "type_info": "Varchar"
        }
      ],
      "parameters": {
        "Left": ["Varchar", "Uuid"]
      },
      "nullable": [false, false, false, false, false, true, false]
    }
  },
  "fb2aa2eb0888bc902a8136081cbcc293641f2fddd4f796addbbf89f834b452e8": {
    "query": "\nSELECT p.url_path,\n  p.title,\n  c.chapter_number\nFROM pages p\n  LEFT JOIN chapters c ON p.chapter_id = c.id\nWHERE order_number = (\n    SELECT MIN(order_number)\n    FROM pages\n    WHERE order_number > $1\n      AND deleted_at IS NULL\n  );\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "url_path",
          "type_info": "Varchar"
        },
        {
          "ordinal": 1,
          "name": "title",
          "type_info": "Varchar"
        },
        {
          "ordinal": 2,
          "name": "chapter_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Int4"]
      },
      "nullable": [false, false, true]
    }
  },
  "fca8672f757656db6332543f9d4351224a1218c4387310e9447e70dad48af7cf": {
    "query": "SELECT course_id from chapters where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "course_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false]
    }
  },
  "fde68d37ec6b000cb2da9e48d9f256bcef7917c61a441b470af988fed87ba5a8": {
    "query": "\nINSERT INTO exercises(id, course_id, name, order_number, page_id)\nVALUES ($1, $2, $3, $4, $5)\nON CONFLICT (id) DO UPDATE\nSET course_id=$2, name=$3, order_number=$4, page_id=$5, deleted_at=NULL\nRETURNING *;\n        ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "deadline",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "page_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "score_maximum",
          "type_info": "Int4"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid", "Uuid", "Varchar", "Int4", "Uuid"]
      },
      "nullable": [false, false, false, false, true, false, true, false, false, false]
    }
  },
  "fedf6f6fd2c1c81adf93753386ca0313066e6045f5dfd0cd55eeaf7e59866fad": {
    "query": "SELECT * FROM exercises WHERE page_id = $1;",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "course_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "deleted_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "name",
          "type_info": "Varchar"
        },
        {
          "ordinal": 6,
          "name": "deadline",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 7,
          "name": "page_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 8,
          "name": "score_maximum",
          "type_info": "Int4"
        },
        {
          "ordinal": 9,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [false, false, false, false, true, false, true, false, false, false]
    }
  },
  "fefaaa5c5e1de08eb78712713351fe1623b3a9b9a9e416bfd8135c4d571cb4fb": {
    "query": "\nselect max(p.order_number) as order_number\nfrom pages p\nwhere p.course_id = $1\n  and p.chapter_id is null\n  and p.deleted_at is null;\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "order_number",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": [null]
    }
  },
  "ff39bc12de82fe0cc229f9ca8fc7d7fbd67fdbe3e5a28346b5a0cca311d86900": {
    "query": "\n        UPDATE exercise_tasks SET deleted_at = now() WHERE exercise_id IN (SELECT id FROM exercises WHERE page_id = $1)\n            ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": ["Uuid"]
      },
      "nullable": []
    }
  }
}
